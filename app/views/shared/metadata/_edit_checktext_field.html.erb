
<table class="checktext_field" width = "40%">
</td>
  <tr>
  <td>
  <%= form.fields_for(form.object, builder: ActionView::Helpers::FormBuilder) do |default_form| %>
    <% form.related_fields(to: "check_#{field_name}", when: "true") do %>
      <%= default_form.text_field(field_name)  %>
    <% end %>
  <% end %>
  <td>
    <%= form.related_fields(to: "check_#{field_name}", when: "true") do %>
      <!-- to add separator if need -->
    &nbsp;
  <% end %>
  </td>
</td>
  <td>
    <!-- Hack. we prefix with check , so we can use the #{field} attribute as it is without colliding with the real field -->
    <%= form.fields_for("check", form.object, builder: ActionView::Helpers::FormBuilder) do |check_form| %>
      <%= check_form.select("#{field_name}?", [["N/A", false], ["value", true]]) %>
    <% end %>
</td>
</tr>
</table>
