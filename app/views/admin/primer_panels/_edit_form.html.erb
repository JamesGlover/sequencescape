
<p>
  <%= f.label :name %><br />
  <%= f.text_field :name, required: true, class: 'form-control' %>
</p>
<p>
  <%= f.label :snp_count %><br />
  <%= f.number_field :snp_count, required: true, min: 1, step: 1, class: 'form-control' %>
</p>

<div class='row'>
  <%= f.fields_for :programs do |program| %>
    <% f.object.programs.each do |key, program_fields| %>
      <%= field_set_tag(key, class: 'col') do %>
        <%= program.fields_for key do |pcr| %>
          <div class="form-group">
            <%= f.label :name, class: 'control-label' %>
            <%= pcr.text_field :name, value: program_fields['name'], class: 'form-control' %>
          </div>
          <div class="form-group">
            <%= f.label :duration, "Duration (minutes)", class: 'control-label' %>
            <%= pcr.number_field :duration, value: program_fields['duration'], class: 'form-control' %>
          </div>
        <% end %>
      <% end %>
    <% end %>
  <% end %>
</div>
