<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>
  Class: Request
  
    &mdash; Documentation by YARD 0.9.5
  
</title>

  <link rel="stylesheet" href="css/style.css" type="text/css" charset="utf-8" />

  <link rel="stylesheet" href="css/common.css" type="text/css" charset="utf-8" />

<script type="text/javascript" charset="utf-8">
  pathId = "Request";
  relpath = '';
</script>


  <script type="text/javascript" charset="utf-8" src="js/jquery.js"></script>

  <script type="text/javascript" charset="utf-8" src="js/app.js"></script>


  </head>
  <body>
    <div class="nav_wrap">
      <iframe id="nav" src="class_list.html"></iframe>
      <div id="resizer"></div>
    </div>

    <div id="main" tabindex="-1">
      <div id="header">
        <div id="menu">
  
    <a href="_index.html">Index (R)</a> &raquo;
    
    
    <span class="title">Request</span>
  
</div>

        <div id="search">
  
    <a class="full_list_link" id="class_list_link"
        href="class_list.html">

        <svg width="24" height="24">
          <rect x="0" y="4" width="24" height="4" rx="1" ry="1"></rect>
          <rect x="0" y="12" width="24" height="4" rx="1" ry="1"></rect>
          <rect x="0" y="20" width="24" height="4" rx="1" ry="1"></rect>
        </svg>
    </a>
  
</div>
        <div class="clear"></div>
      </div>

      <iframe id="search_frame" src="class_list.html"></iframe>

      <div id="content"><h1>Class: Request
  
  
  
</h1>
<div class="box_info">
  
  <dl>
    <dt>Inherits:</dt>
    <dd>
      <span class="inheritName"><span class='object_link'><a href="ActiveRecord/Base.html" title="ActiveRecord::Base (class)">ActiveRecord::Base</a></span></span>
      
        <ul class="fullTree">
          <li>Object</li>
          
            <li class="next"><span class='object_link'><a href="ActiveRecord/Base.html" title="ActiveRecord::Base (class)">ActiveRecord::Base</a></span></li>
          
            <li class="next">Request</li>
          
        </ul>
        <a href="#" class="inheritanceTree">show all</a>
      
    </dd>
  </dl>
  

  
  
  <dl>
      <dt>Extended by:</dt>
      <dd><span class='object_link'><a href="EventfulRecord.html" title="EventfulRecord (module)">EventfulRecord</a></span>, <span class='object_link'><a href="Metadata.html" title="Metadata (module)">Metadata</a></span>, <span class='object_link'><a href="Request/Statistics.html" title="Request::Statistics (module)">Statistics</a></span></dd>
  </dl>
  
  
  
  <dl>
      <dt>Includes:</dt>
      <dd>AASM, <span class='object_link'><a href="Aliquot/DeprecatedBehaviours/Request.html" title="Aliquot::DeprecatedBehaviours::Request (module)">Aliquot::DeprecatedBehaviours::Request</a></span>, <span class='object_link'><a href="Api/RequestIO/Extensions.html" title="Api::RequestIO::Extensions (module)">Api::RequestIO::Extensions</a></span>, <span class='object_link'><a href="Batch/RequestBehaviour.html" title="Batch::RequestBehaviour (module)">Batch::RequestBehaviour</a></span>, <span class='object_link'><a href="Commentable.html" title="Commentable (module)">Commentable</a></span>, ModelExtensions::Request, <span class='object_link'><a href="Request/Statemachine.html" title="Request::Statemachine (module)">Statemachine</a></span>, <span class='object_link'><a href="StandardNamedScopes.html" title="StandardNamedScopes (module)">StandardNamedScopes</a></span>, <span class='object_link'><a href="Uuid/Uuidable.html" title="Uuid::Uuidable (module)">Uuid::Uuidable</a></span></dd>
  </dl>
  
  

  

  
  <dl>
    <dt>Defined in:</dt>
    <dd>app/models/request.rb</dd>
  </dl>
  
</div>

<div id="subclasses">
  <h2>Direct Known Subclasses</h2>
  <p class="children"><span class='object_link'><a href="CustomerRequest.html" title="CustomerRequest (class)">CustomerRequest</a></span>, <span class='object_link'><a href="SystemRequest.html" title="SystemRequest (class)">SystemRequest</a></span></p>
</div>
<h2>Defined Under Namespace</h2>
<p class="children">
  
    
      <strong class="modules">Modules:</strong> <span class='object_link'><a href="Request/AccessioningRequired.html" title="Request::AccessioningRequired (module)">AccessioningRequired</a></span>, <span class='object_link'><a href="Request/CustomerResponsibility.html" title="Request::CustomerResponsibility (module)">CustomerResponsibility</a></span>, <span class='object_link'><a href="Request/GroupingHelpers.html" title="Request::GroupingHelpers (module)">GroupingHelpers</a></span>, <span class='object_link'><a href="Request/HasNoTargetAsset.html" title="Request::HasNoTargetAsset (module)">HasNoTargetAsset</a></span>, <span class='object_link'><a href="Request/LibraryManufacture.html" title="Request::LibraryManufacture (module)">LibraryManufacture</a></span>, <span class='object_link'><a href="Request/Statemachine.html" title="Request::Statemachine (module)">Statemachine</a></span>, <span class='object_link'><a href="Request/Statistics.html" title="Request::Statistics (module)">Statistics</a></span>
    
  
    
      <strong class="classes">Classes:</strong> <span class='object_link'><a href="Request/ChangeDecision.html" title="Request::ChangeDecision (class)">ChangeDecision</a></span>, <span class='object_link'><a href="Request/LibraryCreation.html" title="Request::LibraryCreation (class)">LibraryCreation</a></span>, <span class='object_link'><a href="Request/Multiplexing.html" title="Request::Multiplexing (class)">Multiplexing</a></span>
    
  
</p>

  <h2>Constant Summary</h2>
  <dl class="constants">
    
      <dt id="PERMISSABLE_NEXT_REQUESTS-constant" class="">PERMISSABLE_NEXT_REQUESTS =
        <div class="docstring">
  <div class="discussion">
    
<p>This is used for the default next or previous request check.  It means that
if the caller does not specify a block then we can use this one in its
place.</p>


  </div>
</div>
<div class="tags">
  

</div>
      </dt>
      <dd><pre class="code"><span class='tlambda'>-&gt;</span><span class='lparen'>(</span><span class='id identifier rubyid_request'>request</span><span class='rparen'>)</span> <span class='tlambeg'>{</span> <span class='id identifier rubyid_request'>request</span><span class='period'>.</span><span class='id identifier rubyid_pending?'>pending?</span> <span class='kw'>or</span> <span class='id identifier rubyid_request'>request</span><span class='period'>.</span><span class='id identifier rubyid_blocked?'>blocked?</span> <span class='rbrace'>}</span></pre></dd>
    
  </dl>



  
  
  <h3 class="inherited">Constants included
     from <span class='object_link'><a href="Metadata.html" title="Metadata (module)">Metadata</a></span></h3>
  <p class="inherited"><span class='object_link'><a href="Metadata.html#SECTION_FIELDS-constant" title="Metadata::SECTION_FIELDS (constant)">Metadata::SECTION_FIELDS</a></span></p>

  
  
  <h3 class="inherited">Constants included
     from <span class='object_link'><a href="Request/Statemachine.html" title="Request::Statemachine (module)">Statemachine</a></span></h3>
  <p class="inherited"><span class='object_link'><a href="Request/Statemachine.html#ACTIVE-constant" title="Request::Statemachine::ACTIVE (constant)">Statemachine::ACTIVE</a></span>, <span class='object_link'><a href="Request/Statemachine.html#COMPLETED_STATE-constant" title="Request::Statemachine::COMPLETED_STATE (constant)">Statemachine::COMPLETED_STATE</a></span>, <span class='object_link'><a href="Request/Statemachine.html#INACTIVE-constant" title="Request::Statemachine::INACTIVE (constant)">Statemachine::INACTIVE</a></span>, <span class='object_link'><a href="Request/Statemachine.html#OPENED_STATE-constant" title="Request::Statemachine::OPENED_STATE (constant)">Statemachine::OPENED_STATE</a></span></p>





  
    <h2>
      Class Method Summary
      <small><a href="#" class="summary_toggle">collapse</a></small>
    </h2>

    <ul class="summary">
      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#accessioning_required%3F-class_method" title="accessioning_required? (class method)">.<strong>accessioning_required?</strong>  &#x21d2; Boolean </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#delegate_validator-class_method" title="delegate_validator (class method)">.<strong>delegate_validator</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#for_study-class_method" title="for_study (class method)">.<strong>for_study</strong>(study)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#get_target_plate_ids-class_method" title="get_target_plate_ids (class method)">.<strong>get_target_plate_ids</strong>(request_ids)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>TODO: There is probably a MUCH better way of getting this information.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#group_requests-class_method" title="group_requests (class method)">.<strong>group_requests</strong>(options = {})  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#number_expected_for_submission_id_and_request_type_id-class_method" title="number_expected_for_submission_id_and_request_type_id (class method)">.<strong>number_expected_for_submission_id_and_request_type_id</strong>(submission_id, request_type_id)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
    </ul>
  
    <h2>
      Instance Method Summary
      <small><a href="#" class="summary_toggle">collapse</a></small>
    </h2>

    <ul class="summary">
      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#add_comment-instance_method" title="#add_comment (instance method)">#<strong>add_comment</strong>(comment, user)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#associated_studies-instance_method" title="#associated_studies (instance method)">#<strong>associated_studies</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#cancelable%3F-instance_method" title="#cancelable? (instance method)">#<strong>cancelable?</strong>  &#x21d2; Boolean </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#copy-instance_method" title="#copy (instance method)">#<strong>copy</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#current_request_event-instance_method" title="#current_request_event (instance method)">#<strong>current_request_event</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#customer_accepts_responsibility%21-instance_method" title="#customer_accepts_responsibility! (instance method)">#<strong>customer_accepts_responsibility!</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#event_with_key_value-instance_method" title="#event_with_key_value (instance method)">#<strong>event_with_key_value</strong>(k, v = nil)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#format_qc_information-instance_method" title="#format_qc_information (instance method)">#<strong>format_qc_information</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#get_value-instance_method" title="#get_value (instance method)">#<strong>get_value</strong>(request_information_type)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#has_passed-instance_method" title="#has_passed (instance method)">#<strong>has_passed</strong>(batch, task)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#lab_events_for_batch-instance_method" title="#lab_events_for_batch (instance method)">#<strong>lab_events_for_batch</strong>(batch)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#library_creation%3F-instance_method" title="#library_creation? (instance method)">#<strong>library_creation?</strong>  &#x21d2; Boolean </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#manifest_processed%21-instance_method" title="#manifest_processed! (instance method)">#<strong>manifest_processed!</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#next_requests-instance_method" title="#next_requests (instance method)">#<strong>next_requests</strong>(pipeline, &amp;block)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#previous_failed_requests-instance_method" title="#previous_failed_requests (instance method)">#<strong>previous_failed_requests</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#priority-instance_method" title="#priority (instance method)">#<strong>priority</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#project%3D-instance_method" title="#project= (instance method)">#<strong>project=</strong>(project)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#project_id%3D-instance_method" title="#project_id= (instance method)">#<strong>project_id=</strong>(project_id)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#ready%3F-instance_method" title="#ready? (instance method)">#<strong>ready?</strong>  &#x21d2; Boolean </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#remove_unused_assets-instance_method" title="#remove_unused_assets (instance method)">#<strong>remove_unused_assets</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#request_options_for_creation-instance_method" title="#request_options_for_creation (instance method)">#<strong>request_options_for_creation</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>The options that are required for creation.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#request_type_updatable%3F-instance_method" title="#request_type_updatable? (instance method)">#<strong>request_type_updatable?</strong>(new_request_type)  &#x21d2; Boolean </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#return_pending_to_inbox%21-instance_method" title="#return_pending_to_inbox! (instance method)">#<strong>return_pending_to_inbox!</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#role-instance_method" title="#role (instance method)">#<strong>role</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#study%3D-instance_method" title="#study= (instance method)">#<strong>study=</strong>(study)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#study_id%3D-instance_method" title="#study_id= (instance method)">#<strong>study_id=</strong>(study_id)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#submission_plate_count-instance_method" title="#submission_plate_count (instance method)">#<strong>submission_plate_count</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#submitted_at-instance_method" title="#submitted_at (instance method)">#<strong>submitted_at</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>The date at which the submission was made.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#target_purpose-instance_method" title="#target_purpose (instance method)">#<strong>target_purpose</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#target_tube-instance_method" title="#target_tube (instance method)">#<strong>target_tube</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#update_pool_information-instance_method" title="#update_pool_information (instance method)">#<strong>update_pool_information</strong>(pool_information)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Adds any pool information to the structure so that it can be reported to
client applications.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#update_priority-instance_method" title="#update_priority (instance method)">#<strong>update_priority</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#update_responsibilities%21-instance_method" title="#update_responsibilities! (instance method)">#<strong>update_responsibilities!</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#validator_for-instance_method" title="#validator_for (instance method)">#<strong>validator_for</strong>(request_option)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#value_for-instance_method" title="#value_for (instance method)">#<strong>value_for</strong>(name, batch = nil)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
    </ul>
  


  
  
  
  
  
  
  
  
  <h3 class="inherited">Methods included from <span class='object_link'><a href="Metadata.html" title="Metadata (module)">Metadata</a></span></h3>
  <p class="inherited"><span class='object_link'><a href="Metadata.html#has_metadata-instance_method" title="Metadata#has_metadata (method)">has_metadata</a></span>, <span class='object_link'><a href="Metadata.html#required_tags-class_method" title="Metadata.required_tags (method)">required_tags</a></span></p>

  
  
  
  
  
  
  
  
  <h3 class="inherited">Methods included from <span class='object_link'><a href="EventfulRecord.html" title="EventfulRecord (module)">EventfulRecord</a></span></h3>
  <p class="inherited"><span class='object_link'><a href="EventfulRecord.html#has_many_events-instance_method" title="EventfulRecord#has_many_events (method)">has_many_events</a></span>, <span class='object_link'><a href="EventfulRecord.html#has_many_lab_events-instance_method" title="EventfulRecord#has_many_lab_events (method)">has_many_lab_events</a></span>, <span class='object_link'><a href="EventfulRecord.html#has_one_event_with_family-instance_method" title="EventfulRecord#has_one_event_with_family (method)">has_one_event_with_family</a></span></p>

  
  
  
  
  
  
  
  
  <h3 class="inherited">Methods included from <span class='object_link'><a href="Request/Statistics.html" title="Request::Statistics (module)">Statistics</a></span></h3>
  <p class="inherited"><span class='object_link'><a href="Request/Statistics.html#asset_statistics-instance_method" title="Request::Statistics#asset_statistics (method)">asset_statistics</a></span>, <span class='object_link'><a href="Request/Statistics.html#progress_statistics-instance_method" title="Request::Statistics#progress_statistics (method)">progress_statistics</a></span>, <span class='object_link'><a href="Request/Statistics.html#sample_statistics_new-instance_method" title="Request::Statistics#sample_statistics_new (method)">sample_statistics_new</a></span></p>

  
  
  
  
  
  
  
  
  <h3 class="inherited">Methods included from <span class='object_link'><a href="Batch/RequestBehaviour.html" title="Batch::RequestBehaviour (module)">Batch::RequestBehaviour</a></span></h3>
  <p class="inherited"><span class='object_link'><a href="Batch/RequestBehaviour.html#create_batch_request%21-instance_method" title="Batch::RequestBehaviour#create_batch_request! (method)">#create_batch_request!</a></span>, <span class='object_link'><a href="Batch/RequestBehaviour.html#included-class_method" title="Batch::RequestBehaviour.included (method)">included</a></span>, <span class='object_link'><a href="Batch/RequestBehaviour.html#recycle_from_batch%21-instance_method" title="Batch::RequestBehaviour#recycle_from_batch! (method)">#recycle_from_batch!</a></span>, <span class='object_link'><a href="Batch/RequestBehaviour.html#return_for_inbox%21-instance_method" title="Batch::RequestBehaviour#return_for_inbox! (method)">#return_for_inbox!</a></span>, <span class='object_link'><a href="Batch/RequestBehaviour.html#with_batch_id-instance_method" title="Batch::RequestBehaviour#with_batch_id (method)">#with_batch_id</a></span></p>

  
  
  
  
  
  
  
  
  <h3 class="inherited">Methods included from <span class='object_link'><a href="Request/Statemachine.html" title="Request::Statemachine (module)">Statemachine</a></span></h3>
  <p class="inherited"><span class='object_link'><a href="Request/Statemachine.html#cancellable%3F-instance_method" title="Request::Statemachine#cancellable? (method)">#cancellable?</a></span>, <span class='object_link'><a href="Request/Statemachine.html#change_decision%21-instance_method" title="Request::Statemachine#change_decision! (method)">#change_decision!</a></span>, <span class='object_link'><a href="Request/Statemachine.html#closed%3F-instance_method" title="Request::Statemachine#closed? (method)">#closed?</a></span>, <span class='object_link'><a href="Request/Statemachine.html#failed_downstream%21-instance_method" title="Request::Statemachine#failed_downstream! (method)">#failed_downstream!</a></span>, <span class='object_link'><a href="Request/Statemachine.html#failed_upstream%21-instance_method" title="Request::Statemachine#failed_upstream! (method)">#failed_upstream!</a></span>, <span class='object_link'><a href="Request/Statemachine.html#finished%3F-instance_method" title="Request::Statemachine#finished? (method)">#finished?</a></span>, <span class='object_link'><a href="Request/Statemachine.html#included-class_method" title="Request::Statemachine.included (method)">included</a></span>, <span class='object_link'><a href="Request/Statemachine.html#on_blocked-instance_method" title="Request::Statemachine#on_blocked (method)">#on_blocked</a></span>, <span class='object_link'><a href="Request/Statemachine.html#on_cancelled-instance_method" title="Request::Statemachine#on_cancelled (method)">#on_cancelled</a></span>, <span class='object_link'><a href="Request/Statemachine.html#on_failed-instance_method" title="Request::Statemachine#on_failed (method)">#on_failed</a></span>, <span class='object_link'><a href="Request/Statemachine.html#on_hold-instance_method" title="Request::Statemachine#on_hold (method)">#on_hold</a></span>, <span class='object_link'><a href="Request/Statemachine.html#on_passed-instance_method" title="Request::Statemachine#on_passed (method)">#on_passed</a></span>, <span class='object_link'><a href="Request/Statemachine.html#on_started-instance_method" title="Request::Statemachine#on_started (method)">#on_started</a></span>, <span class='object_link'><a href="Request/Statemachine.html#open%3F-instance_method" title="Request::Statemachine#open? (method)">#open?</a></span>, <span class='object_link'><a href="Request/Statemachine.html#terminated%3F-instance_method" title="Request::Statemachine#terminated? (method)">#terminated?</a></span>, <span class='object_link'><a href="Request/Statemachine.html#transfer_aliquots-instance_method" title="Request::Statemachine#transfer_aliquots (method)">#transfer_aliquots</a></span>, <span class='object_link'><a href="Request/Statemachine.html#transition_to-instance_method" title="Request::Statemachine#transition_to (method)">#transition_to</a></span></p>

  
  
  
  
  
  
  
  
  <h3 class="inherited">Methods included from <span class='object_link'><a href="StandardNamedScopes.html" title="StandardNamedScopes (module)">StandardNamedScopes</a></span></h3>
  <p class="inherited"><span class='object_link'><a href="StandardNamedScopes.html#included-class_method" title="StandardNamedScopes.included (method)">included</a></span></p>

  
  
  
  
  
  
  
  
  <h3 class="inherited">Methods included from <span class='object_link'><a href="Commentable.html" title="Commentable (module)">Commentable</a></span></h3>
  <p class="inherited"><span class='object_link'><a href="Commentable.html#included-class_method" title="Commentable.included (method)">included</a></span></p>

  
  
  
  
  
  
  
  
  
  <h3 class="inherited">Methods included from <span class='object_link'><a href="Uuid/Uuidable.html" title="Uuid::Uuidable (module)">Uuid::Uuidable</a></span></h3>
  <p class="inherited"><span class='object_link'><a href="Uuid/Uuidable.html#included-class_method" title="Uuid::Uuidable.included (method)">included</a></span>, <span class='object_link'><a href="Uuid/Uuidable.html#unsaved_uuid%21-instance_method" title="Uuid::Uuidable#unsaved_uuid! (method)">#unsaved_uuid!</a></span>, <span class='object_link'><a href="Uuid/Uuidable.html#uuid-instance_method" title="Uuid::Uuidable#uuid (method)">#uuid</a></span></p>

  
  
  
  
  
  
  
  
  <h3 class="inherited">Methods included from <span class='object_link'><a href="Api/RequestIO/Extensions.html" title="Api::RequestIO::Extensions (module)">Api::RequestIO::Extensions</a></span></h3>
  <p class="inherited"><span class='object_link'><a href="Api/RequestIO/Extensions.html#included-class_method" title="Api::RequestIO::Extensions.included (method)">included</a></span>, <span class='object_link'><a href="Api/RequestIO/Extensions.html#url_name-instance_method" title="Api::RequestIO::Extensions#url_name (method)">#url_name</a></span></p>

  
  
  
  
  
  
  
  
  <h3 class="inherited">Methods included from <span class='object_link'><a href="Aliquot/DeprecatedBehaviours/Request.html" title="Aliquot::DeprecatedBehaviours::Request (module)">Aliquot::DeprecatedBehaviours::Request</a></span></h3>
  <p class="inherited"><span class='object_link'><a href="Aliquot/DeprecatedBehaviours/Request.html#included-class_method" title="Aliquot::DeprecatedBehaviours::Request.included (method)">included</a></span>, <span class='object_link'><a href="Aliquot/DeprecatedBehaviours/Request.html#sample_name-instance_method" title="Aliquot::DeprecatedBehaviours::Request#sample_name (method)">#sample_name</a></span>, <span class='object_link'><a href="Aliquot/DeprecatedBehaviours/Request.html#sample_name%3F-instance_method" title="Aliquot::DeprecatedBehaviours::Request#sample_name? (method)">#sample_name?</a></span>, <span class='object_link'><a href="Aliquot/DeprecatedBehaviours/Request.html#tag-instance_method" title="Aliquot::DeprecatedBehaviours::Request#tag (method)">#tag</a></span>, <span class='object_link'><a href="Aliquot/DeprecatedBehaviours/Request.html#tag_number-instance_method" title="Aliquot::DeprecatedBehaviours::Request#tag_number (method)">#tag_number</a></span>, <span class='object_link'><a href="Aliquot/DeprecatedBehaviours/Request.html#tags-instance_method" title="Aliquot::DeprecatedBehaviours::Request#tags (method)">#tags</a></span></p>

  
  
  
  
  
  
  
  
  
  <h3 class="inherited">Methods inherited from <span class='object_link'><a href="ActiveRecord/Base.html" title="ActiveRecord::Base (class)">ActiveRecord::Base</a></span></h3>
  <p class="inherited"><span class='object_link'><a href="ActiveRecord/Base.html#find_by_id_or_name-class_method" title="ActiveRecord::Base.find_by_id_or_name (method)">find_by_id_or_name</a></span>, <span class='object_link'><a href="ActiveRecord/Base.html#find_by_id_or_name%21-class_method" title="ActiveRecord::Base.find_by_id_or_name! (method)">find_by_id_or_name!</a></span>, <span class='object_link'><a href="ActiveRecord/Base.html#routing_key-instance_method" title="ActiveRecord::Base#routing_key (method)">#routing_key</a></span>, <span class='object_link'><a href="ActiveRecord/Base.html#transaction_with_amqp-class_method" title="ActiveRecord::Base.transaction_with_amqp (method)">transaction_with_amqp</a></span></p>

  
  
  
  
  
  
  
  
  <h3 class="inherited">Methods included from <span class='object_link'><a href="ApiTools.html" title="ApiTools (module)">ApiTools</a></span></h3>
  <p class="inherited"><span class='object_link'><a href="ApiTools.html#as_json-instance_method" title="ApiTools#as_json (method)">#as_json</a></span>, <span class='object_link'><a href="ApiTools.html#for_api-instance_method" title="ApiTools#for_api (method)">#for_api</a></span>, <span class='object_link'><a href="ApiTools.html#included-class_method" title="ApiTools.included (method)">included</a></span>, <span class='object_link'><a href="ApiTools.html#list_json-instance_method" title="ApiTools#list_json (method)">#list_json</a></span>, <span class='object_link'><a href="ApiTools.html#to_xml-instance_method" title="ApiTools#to_xml (method)">#to_xml</a></span>, <span class='object_link'><a href="ApiTools.html#to_yaml-instance_method" title="ApiTools#to_yaml (method)">#to_yaml</a></span>, <span class='object_link'><a href="ApiTools.html#url-instance_method" title="ApiTools#url (method)">#url</a></span>, <span class='object_link'><a href="ApiTools.html#url_name-instance_method" title="ApiTools#url_name (method)">#url_name</a></span></p>


  <div id="class_method_details" class="method_details_list">
    <h2>Class Method Details</h2>

    
      <div class="method_details first">
  <h3 class="signature first" id="accessioning_required?-class_method">
  
    .<strong>accessioning_required?</strong>  &#x21d2; <tt>Boolean</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


498
499
500</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/models/request.rb', line 498</span>

<span class='kw'>def</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_accessioning_required?'>accessioning_required?</span>
  <span class='kw'>false</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="delegate_validator-class_method">
  
    .<strong>delegate_validator</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


31
32
33</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/models/request.rb', line 31</span>

<span class='kw'>def</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_delegate_validator'>delegate_validator</span>
  <span class='const'>DelegateValidation</span><span class='op'>::</span><span class='const'>AlwaysValidValidator</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="for_study-class_method">
  
    .<strong>for_study</strong>(study)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


303
304
305</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/models/request.rb', line 303</span>

<span class='kw'>def</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_for_study'>for_study</span><span class='lparen'>(</span><span class='id identifier rubyid_study'>study</span><span class='rparen'>)</span>
  <span class='const'>Request</span><span class='period'>.</span><span class='id identifier rubyid_for_study_id'>for_study_id</span><span class='lparen'>(</span><span class='id identifier rubyid_study'>study</span><span class='period'>.</span><span class='id identifier rubyid_id'>id</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="get_target_plate_ids-class_method">
  
    .<strong>get_target_plate_ids</strong>(request_ids)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>TODO: There is probably a MUCH better way of getting this information. This
is just a rewrite of the old approach</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


329
330
331
332</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/models/request.rb', line 329</span>

<span class='kw'>def</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_get_target_plate_ids'>get_target_plate_ids</span><span class='lparen'>(</span><span class='id identifier rubyid_request_ids'>request_ids</span><span class='rparen'>)</span>
  <span class='const'>ContainerAssociation</span><span class='period'>.</span><span class='id identifier rubyid_joins'>joins</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>INNER JOIN requests ON content_id = target_asset_id</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='period'>.</span>
    <span class='id identifier rubyid_where'>where</span><span class='lparen'>(</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>requests.id IN  (?)</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='id identifier rubyid_request_ids'>request_ids</span><span class='rbracket'>]</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_uniq'>uniq</span><span class='period'>.</span><span class='id identifier rubyid_pluck'>pluck</span><span class='lparen'>(</span><span class='symbol'>:container_id</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="group_requests-class_method">
  
    .<strong>group_requests</strong>(options = {})  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


255
256
257
258
259
260
261
262
263
264</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/models/request.rb', line 255</span>

<span class='kw'>def</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_group_requests'>group_requests</span><span class='lparen'>(</span><span class='id identifier rubyid_options'>options</span> <span class='op'>=</span> <span class='lbrace'>{</span><span class='rbrace'>}</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_target'>target</span> <span class='op'>=</span> <span class='id identifier rubyid_options'>options</span><span class='lbracket'>[</span><span class='symbol'>:by_target</span><span class='rbracket'>]</span> <span class='op'>?</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>target_asset_id</span><span class='tstring_end'>&#39;</span></span> <span class='op'>:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>asset_id</span><span class='tstring_end'>&#39;</span></span>
  <span class='id identifier rubyid_groupings'>groupings</span> <span class='op'>=</span> <span class='id identifier rubyid_options'>options</span><span class='period'>.</span><span class='id identifier rubyid_delete'>delete</span><span class='lparen'>(</span><span class='symbol'>:group</span><span class='rparen'>)</span> <span class='op'>||</span> <span class='lbrace'>{</span><span class='rbrace'>}</span>

  <span class='id identifier rubyid_select'>select</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>requests.*, tca.container_id AS container_id, tca.content_id AS content_id</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='period'>.</span>
  <span class='id identifier rubyid_joins'>joins</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>INNER JOIN container_associations tca ON tca.content_id=</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_target'>target</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='period'>.</span>
  <span class='id identifier rubyid_readonly'>readonly</span><span class='lparen'>(</span><span class='kw'>false</span><span class='rparen'>)</span><span class='period'>.</span>
  <span class='id identifier rubyid_preload'>preload</span><span class='lparen'>(</span><span class='symbol'>:request_metadata</span><span class='rparen'>)</span><span class='period'>.</span>
  <span class='id identifier rubyid_group'>group</span><span class='lparen'>(</span><span class='id identifier rubyid_groupings'>groupings</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="number_expected_for_submission_id_and_request_type_id-class_method">
  
    .<strong>number_expected_for_submission_id_and_request_type_id</strong>(submission_id, request_type_id)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


414
415
416</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/models/request.rb', line 414</span>

<span class='kw'>def</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_number_expected_for_submission_id_and_request_type_id'>number_expected_for_submission_id_and_request_type_id</span><span class='lparen'>(</span><span class='id identifier rubyid_submission_id'>submission_id</span><span class='comma'>,</span> <span class='id identifier rubyid_request_type_id'>request_type_id</span><span class='rparen'>)</span>
  <span class='const'>Request</span><span class='period'>.</span><span class='id identifier rubyid_where'>where</span><span class='lparen'>(</span><span class='label'>submission_id:</span> <span class='id identifier rubyid_submission_id'>submission_id</span><span class='comma'>,</span> <span class='label'>request_type_id:</span> <span class='id identifier rubyid_request_type_id'>request_type_id</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
  </div>

  <div id="instance_method_details" class="method_details_list">
    <h2>Instance Method Details</h2>

    
      <div class="method_details first">
  <h3 class="signature first" id="add_comment-instance_method">
  
    #<strong>add_comment</strong>(comment, user)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


410
411
412</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/models/request.rb', line 410</span>

<span class='kw'>def</span> <span class='id identifier rubyid_add_comment'>add_comment</span><span class='lparen'>(</span><span class='id identifier rubyid_comment'>comment</span><span class='comma'>,</span> <span class='id identifier rubyid_user'>user</span><span class='rparen'>)</span>
  <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_comments'>comments</span><span class='period'>.</span><span class='id identifier rubyid_create'>create</span><span class='lparen'>(</span><span class='lbrace'>{</span> <span class='label'>description:</span> <span class='id identifier rubyid_comment'>comment</span><span class='comma'>,</span> <span class='label'>user:</span> <span class='id identifier rubyid_user'>user</span> <span class='rbrace'>}</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="associated_studies-instance_method">
  
    #<strong>associated_studies</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


191
192
193
194
195
196</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/models/request.rb', line 191</span>

<span class='kw'>def</span> <span class='id identifier rubyid_associated_studies'>associated_studies</span>
  <span class='kw'>return</span> <span class='lbracket'>[</span><span class='id identifier rubyid_initial_study'>initial_study</span><span class='rbracket'>]</span> <span class='kw'>if</span> <span class='id identifier rubyid_initial_study'>initial_study</span><span class='period'>.</span><span class='id identifier rubyid_present?'>present?</span>
  <span class='kw'>return</span> <span class='id identifier rubyid_asset'>asset</span><span class='period'>.</span><span class='id identifier rubyid_studies'>studies</span><span class='period'>.</span><span class='id identifier rubyid_uniq'>uniq</span> <span class='kw'>if</span> <span class='id identifier rubyid_asset'>asset</span><span class='period'>.</span><span class='id identifier rubyid_present?'>present?</span>
  <span class='kw'>return</span> <span class='id identifier rubyid_submission'>submission</span><span class='period'>.</span><span class='id identifier rubyid_studies'>studies</span> <span class='kw'>if</span> <span class='id identifier rubyid_submission'>submission</span><span class='period'>.</span><span class='id identifier rubyid_present?'>present?</span>
  <span class='lbracket'>[</span><span class='rbracket'>]</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="cancelable?-instance_method">
  
    #<strong>cancelable?</strong>  &#x21d2; <tt>Boolean</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


447
448
449</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/models/request.rb', line 447</span>

<span class='kw'>def</span> <span class='id identifier rubyid_cancelable?'>cancelable?</span>
  <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_batch_request'>batch_request</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span> <span class='op'>&amp;&amp;</span> <span class='lparen'>(</span><span class='id identifier rubyid_pending?'>pending?</span> <span class='op'>||</span> <span class='id identifier rubyid_blocked?'>blocked?</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="copy-instance_method">
  
    #<strong>copy</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


443
444
445</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/models/request.rb', line 443</span>

<span class='kw'>def</span> <span class='id identifier rubyid_copy'>copy</span>
  <span class='const'>RequestFactory</span><span class='period'>.</span><span class='id identifier rubyid_copy_request'>copy_request</span><span class='lparen'>(</span><span class='kw'>self</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="current_request_event-instance_method">
  
    #<strong>current_request_event</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


153
154
155</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/models/request.rb', line 153</span>

<span class='kw'>def</span> <span class='id identifier rubyid_current_request_event'>current_request_event</span>
  <span class='id identifier rubyid_request_events'>request_events</span><span class='period'>.</span><span class='id identifier rubyid_current'>current</span><span class='period'>.</span><span class='id identifier rubyid_last'>last</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="customer_accepts_responsibility!-instance_method">
  
    #<strong>customer_accepts_responsibility!</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


464
465
466</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/models/request.rb', line 464</span>

<span class='kw'>def</span> <span class='id identifier rubyid_customer_accepts_responsibility!'>customer_accepts_responsibility!</span>
  <span class='comment'># Do nothing
</span><span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="event_with_key_value-instance_method">
  
    #<strong>event_with_key_value</strong>(k, v = nil)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


372
373
374</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/models/request.rb', line 372</span>

<span class='kw'>def</span> <span class='id identifier rubyid_event_with_key_value'>event_with_key_value</span><span class='lparen'>(</span><span class='id identifier rubyid_k'>k</span><span class='comma'>,</span> <span class='id identifier rubyid_v'>v</span> <span class='op'>=</span> <span class='kw'>nil</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_v'>v</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span> <span class='op'>?</span> <span class='kw'>false</span> <span class='op'>:</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_lab_events'>lab_events</span><span class='period'>.</span><span class='id identifier rubyid_with_descriptor'>with_descriptor</span><span class='lparen'>(</span><span class='id identifier rubyid_k'>k</span><span class='comma'>,</span> <span class='id identifier rubyid_v'>v</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_first'>first</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="format_qc_information-instance_method">
  
    #<strong>format_qc_information</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


432
433
434
435
436
437
438
439
440
441</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/models/request.rb', line 432</span>

<span class='kw'>def</span> <span class='id identifier rubyid_format_qc_information'>format_qc_information</span>
  <span class='kw'>return</span> <span class='lbracket'>[</span><span class='rbracket'>]</span> <span class='kw'>if</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_lab_events'>lab_events</span><span class='period'>.</span><span class='id identifier rubyid_empty?'>empty?</span>

  <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_events'>events</span><span class='period'>.</span><span class='id identifier rubyid_map'>map</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_event'>event</span><span class='op'>|</span>
    <span class='kw'>next</span> <span class='kw'>if</span> <span class='id identifier rubyid_event'>event</span><span class='period'>.</span><span class='id identifier rubyid_family'>family</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span> <span class='kw'>or</span> <span class='kw'>not</span> <span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>pass</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>fail</span><span class='tstring_end'>&#39;</span></span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_include?'>include?</span><span class='lparen'>(</span><span class='id identifier rubyid_event'>event</span><span class='period'>.</span><span class='id identifier rubyid_family'>family</span><span class='period'>.</span><span class='id identifier rubyid_downcase'>downcase</span><span class='rparen'>)</span>

    <span class='id identifier rubyid_message'>message</span> <span class='op'>=</span> <span class='id identifier rubyid_event'>event</span><span class='period'>.</span><span class='id identifier rubyid_message'>message</span> <span class='op'>||</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>(No message was specified)</span><span class='tstring_end'>&quot;</span></span>
    <span class='lbrace'>{</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>event_id</span><span class='tstring_end'>&quot;</span></span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_event'>event</span><span class='period'>.</span><span class='id identifier rubyid_id'>id</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>status</span><span class='tstring_end'>&quot;</span></span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_event'>event</span><span class='period'>.</span><span class='id identifier rubyid_family'>family</span><span class='period'>.</span><span class='id identifier rubyid_downcase'>downcase</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>message</span><span class='tstring_end'>&quot;</span></span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_message'>message</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>created_at</span><span class='tstring_end'>&quot;</span></span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_event'>event</span><span class='period'>.</span><span class='id identifier rubyid_created_at'>created_at</span> <span class='rbrace'>}</span>
  <span class='kw'>end</span><span class='period'>.</span><span class='id identifier rubyid_compact'>compact</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="get_value-instance_method">
  
    #<strong>get_value</strong>(request_information_type)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


347
348
349
350
351
352</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/models/request.rb', line 347</span>

<span class='kw'>def</span> <span class='id identifier rubyid_get_value'>get_value</span><span class='lparen'>(</span><span class='id identifier rubyid_request_information_type'>request_information_type</span><span class='rparen'>)</span>
  <span class='kw'>return</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_end'>&#39;</span></span> <span class='kw'>unless</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_request_metadata'>request_metadata</span><span class='period'>.</span><span class='id identifier rubyid_respond_to?'>respond_to?</span><span class='lparen'>(</span><span class='id identifier rubyid_request_information_type'>request_information_type</span><span class='period'>.</span><span class='id identifier rubyid_key'>key</span><span class='period'>.</span><span class='id identifier rubyid_to_sym'>to_sym</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_value'>value</span> <span class='op'>=</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_request_metadata'>request_metadata</span><span class='period'>.</span><span class='id identifier rubyid_send'>send</span><span class='lparen'>(</span><span class='id identifier rubyid_request_information_type'>request_information_type</span><span class='period'>.</span><span class='id identifier rubyid_key'>key</span><span class='period'>.</span><span class='id identifier rubyid_to_sym'>to_sym</span><span class='rparen'>)</span>
  <span class='kw'>return</span> <span class='id identifier rubyid_value'>value</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span> <span class='kw'>if</span> <span class='id identifier rubyid_value'>value</span><span class='period'>.</span><span class='id identifier rubyid_blank?'>blank?</span> <span class='kw'>or</span> <span class='id identifier rubyid_request_information_type'>request_information_type</span><span class='period'>.</span><span class='id identifier rubyid_data_type'>data_type</span> <span class='op'>!=</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Date</span><span class='tstring_end'>&#39;</span></span>
  <span class='kw'>return</span> <span class='id identifier rubyid_value'>value</span><span class='period'>.</span><span class='id identifier rubyid_to_date'>to_date</span><span class='period'>.</span><span class='id identifier rubyid_strftime'>strftime</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>%d %B %Y</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="has_passed-instance_method">
  
    #<strong>has_passed</strong>(batch, task)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


364
365
366</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/models/request.rb', line 364</span>

<span class='kw'>def</span> <span class='id identifier rubyid_has_passed'>has_passed</span><span class='lparen'>(</span><span class='id identifier rubyid_batch'>batch</span><span class='comma'>,</span> <span class='id identifier rubyid_task'>task</span><span class='rparen'>)</span>
  <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_lab_events_for_batch'>lab_events_for_batch</span><span class='lparen'>(</span><span class='id identifier rubyid_batch'>batch</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_any?'>any?</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_event'>event</span><span class='op'>|</span> <span class='id identifier rubyid_event'>event</span><span class='period'>.</span><span class='id identifier rubyid_description'>description</span> <span class='op'>==</span> <span class='id identifier rubyid_task'>task</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span> <span class='rbrace'>}</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="lab_events_for_batch-instance_method">
  
    #<strong>lab_events_for_batch</strong>(batch)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


368
369
370</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/models/request.rb', line 368</span>

<span class='kw'>def</span> <span class='id identifier rubyid_lab_events_for_batch'>lab_events_for_batch</span><span class='lparen'>(</span><span class='id identifier rubyid_batch'>batch</span><span class='rparen'>)</span>
  <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_lab_events'>lab_events</span><span class='period'>.</span><span class='id identifier rubyid_where'>where</span><span class='lparen'>(</span><span class='label'>batch_id:</span> <span class='id identifier rubyid_batch'>batch</span><span class='period'>.</span><span class='id identifier rubyid_id'>id</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="library_creation?-instance_method">
  
    #<strong>library_creation?</strong>  &#x21d2; <tt>Boolean</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


510
511
512</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/models/request.rb', line 510</span>

<span class='kw'>def</span> <span class='id identifier rubyid_library_creation?'>library_creation?</span>
  <span class='kw'>false</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="manifest_processed!-instance_method">
  
    #<strong>manifest_processed!</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


514</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/models/request.rb', line 514</span>

<span class='kw'>def</span> <span class='id identifier rubyid_manifest_processed!'>manifest_processed!</span><span class='semicolon'>;</span> <span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="next_requests-instance_method">
  
    #<strong>next_requests</strong>(pipeline, &amp;block)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


380
381
382
383
384
385
386
387
388
389
390
391
392
393
394
395
396
397
398
399
400</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/models/request.rb', line 380</span>

<span class='kw'>def</span> <span class='id identifier rubyid_next_requests'>next_requests</span><span class='lparen'>(</span><span class='id identifier rubyid_pipeline'>pipeline</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span><span class='rparen'>)</span>
  <span class='comment'># TODO remove pipeline parameters
</span>  <span class='comment'># we filter according to the next pipeline
</span>  <span class='id identifier rubyid_next_pipeline'>next_pipeline</span> <span class='op'>=</span> <span class='id identifier rubyid_pipeline'>pipeline</span><span class='period'>.</span><span class='id identifier rubyid_next_pipeline'>next_pipeline</span>
  <span class='comment'># return [] if next_pipeline.nil?
</span>
  <span class='id identifier rubyid_block'>block</span> <span class='op'>||=</span> <span class='const'>PERMISSABLE_NEXT_REQUESTS</span>

  <span class='id identifier rubyid_eligible_requests'>eligible_requests</span> <span class='op'>=</span> <span class='kw'>if</span> <span class='id identifier rubyid_target_asset'>target_asset</span><span class='period'>.</span><span class='id identifier rubyid_present?'>present?</span>
                        <span class='id identifier rubyid_target_asset'>target_asset</span><span class='period'>.</span><span class='id identifier rubyid_requests'>requests</span>
                      <span class='kw'>else</span>
                        <span class='kw'>return</span> <span class='lbracket'>[</span><span class='rbracket'>]</span> <span class='kw'>if</span> <span class='id identifier rubyid_submission'>submission</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span>
                        <span class='id identifier rubyid_submission'>submission</span><span class='period'>.</span><span class='id identifier rubyid_next_requests'>next_requests</span><span class='lparen'>(</span><span class='kw'>self</span><span class='rparen'>)</span>
                      <span class='kw'>end</span>

  <span class='id identifier rubyid_eligible_requests'>eligible_requests</span><span class='period'>.</span><span class='id identifier rubyid_select'>select</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_r'>r</span><span class='op'>|</span>
    <span class='lparen'>(</span><span class='id identifier rubyid_next_pipeline'>next_pipeline</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span> <span class='kw'>or</span>
      <span class='id identifier rubyid_next_pipeline'>next_pipeline</span><span class='period'>.</span><span class='id identifier rubyid_request_types_including_controls'>request_types_including_controls</span><span class='period'>.</span><span class='id identifier rubyid_include?'>include?</span><span class='lparen'>(</span><span class='id identifier rubyid_r'>r</span><span class='period'>.</span><span class='id identifier rubyid_request_type'>request_type</span><span class='rparen'>)</span>
    <span class='rparen'>)</span> <span class='kw'>and</span> <span class='id identifier rubyid_block'>block</span><span class='period'>.</span><span class='id identifier rubyid_call'>call</span><span class='lparen'>(</span><span class='id identifier rubyid_r'>r</span><span class='rparen'>)</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="previous_failed_requests-instance_method">
  
    #<strong>previous_failed_requests</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


406
407
408</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/models/request.rb', line 406</span>

<span class='kw'>def</span> <span class='id identifier rubyid_previous_failed_requests'>previous_failed_requests</span>
  <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_asset'>asset</span><span class='period'>.</span><span class='id identifier rubyid_requests'>requests</span><span class='period'>.</span><span class='id identifier rubyid_select'>select</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_previous_failed_request'>previous_failed_request</span><span class='op'>|</span> <span class='lparen'>(</span><span class='id identifier rubyid_previous_failed_request'>previous_failed_request</span><span class='period'>.</span><span class='id identifier rubyid_failed?'>failed?</span> <span class='kw'>or</span> <span class='id identifier rubyid_previous_failed_request'>previous_failed_request</span><span class='period'>.</span><span class='id identifier rubyid_blocked?'>blocked?</span><span class='rparen'>)</span> <span class='rbrace'>}</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="priority-instance_method">
  
    #<strong>priority</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


456
457
458</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/models/request.rb', line 456</span>

<span class='kw'>def</span> <span class='id identifier rubyid_priority'>priority</span>
  <span class='id identifier rubyid_submission'>submission</span><span class='period'>.</span><span class='id identifier rubyid_try'>try</span><span class='lparen'>(</span><span class='symbol'>:priority</span><span class='rparen'>)</span> <span class='op'>||</span> <span class='int'>0</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="project=-instance_method">
  
    #<strong>project=</strong>(project)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


173
174
175
176</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/models/request.rb', line 173</span>

<span class='kw'>def</span> <span class='id identifier rubyid_project='>project=</span><span class='lparen'>(</span><span class='id identifier rubyid_project'>project</span><span class='rparen'>)</span>
  <span class='kw'>return</span> <span class='kw'>unless</span> <span class='id identifier rubyid_project'>project</span>
  <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_project_id'>project_id</span> <span class='op'>=</span> <span class='id identifier rubyid_project'>project</span><span class='period'>.</span><span class='id identifier rubyid_id'>id</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="project_id=-instance_method">
  
    #<strong>project_id=</strong>(project_id)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  
<p class="tag_title">Raises:</p>
<ul class="raise">
  
    <li>
      
      
        <span class='type'>(<tt>RuntimeError</tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


157
158
159
160</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/models/request.rb', line 157</span>

<span class='kw'>def</span> <span class='id identifier rubyid_project_id='>project_id=</span><span class='lparen'>(</span><span class='id identifier rubyid_project_id'>project_id</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_raise'>raise</span> <span class='const'>RuntimeError</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Initial project already set</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>if</span> <span class='id identifier rubyid_initial_project_id'>initial_project_id</span>
  <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_initial_project_id'>initial_project_id</span> <span class='op'>=</span> <span class='id identifier rubyid_project_id'>project_id</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="ready?-instance_method">
  
    #<strong>ready?</strong>  &#x21d2; <tt>Boolean</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


502
503
504</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/models/request.rb', line 502</span>

<span class='kw'>def</span> <span class='id identifier rubyid_ready?'>ready?</span>
  <span class='kw'>true</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="remove_unused_assets-instance_method">
  
    #<strong>remove_unused_assets</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


423
424
425
426
427
428
429
430</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/models/request.rb', line 423</span>

<span class='kw'>def</span> <span class='id identifier rubyid_remove_unused_assets'>remove_unused_assets</span>
  <span class='const'>ActiveRecord</span><span class='op'>::</span><span class='const'>Base</span><span class='period'>.</span><span class='id identifier rubyid_transaction'>transaction</span> <span class='kw'>do</span>
    <span class='kw'>return</span> <span class='kw'>if</span> <span class='id identifier rubyid_target_asset'>target_asset</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span>
    <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_target_asset'>target_asset</span><span class='period'>.</span><span class='id identifier rubyid_ancestors'>ancestors</span><span class='period'>.</span><span class='id identifier rubyid_clear'>clear</span>
    <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_target_asset'>target_asset</span><span class='period'>.</span><span class='id identifier rubyid_destroy'>destroy</span>
    <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_save!'>save!</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="request_options_for_creation-instance_method">
  
    #<strong>request_options_for_creation</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>The options that are required for creation.  In other words, the truly
required options that must be filled in and cannot be changed if the asset
we&#39;re creating is used downstream.  For example, a library tube
definitely has to have fragment_size_required_from,
fragment_size_required_to and library_type and these cannot be changed once
the library has been made.</p>

<p>– Side note: really this information should be stored on the asset itself,
which suggests there is a discrepancy in our model somewhere. ++</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


343
344
345</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/models/request.rb', line 343</span>

<span class='kw'>def</span> <span class='id identifier rubyid_request_options_for_creation'>request_options_for_creation</span>
  <span class='lbrace'>{</span><span class='rbrace'>}</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="request_type_updatable?-instance_method">
  
    #<strong>request_type_updatable?</strong>(new_request_type)  &#x21d2; <tt>Boolean</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


460
461
462</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/models/request.rb', line 460</span>

<span class='kw'>def</span> <span class='id identifier rubyid_request_type_updatable?'>request_type_updatable?</span><span class='lparen'>(</span><span class='id identifier rubyid_new_request_type'>new_request_type</span><span class='rparen'>)</span>
  <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_pending?'>pending?</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="return_pending_to_inbox!-instance_method">
  
    #<strong>return_pending_to_inbox!</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  
<p class="tag_title">Raises:</p>
<ul class="raise">
  
    <li>
      
      
        <span class='type'>(<tt>StandardError</tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


418
419
420
421</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/models/request.rb', line 418</span>

<span class='kw'>def</span> <span class='id identifier rubyid_return_pending_to_inbox!'>return_pending_to_inbox!</span>
  <span class='id identifier rubyid_raise'>raise</span> <span class='const'>StandardError</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Can only return pending requests, request is </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_state'>state</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>unless</span> <span class='id identifier rubyid_pending?'>pending?</span>
  <span class='id identifier rubyid_remove_unused_assets'>remove_unused_assets</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="role-instance_method">
  
    #<strong>role</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


494
495
496</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/models/request.rb', line 494</span>

<span class='kw'>def</span> <span class='id identifier rubyid_role'>role</span>
  <span class='id identifier rubyid_order'>order</span><span class='period'>.</span><span class='id identifier rubyid_try'>try</span><span class='lparen'>(</span><span class='symbol'>:role</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="study=-instance_method">
  
    #<strong>study=</strong>(study)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


186
187
188
189</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/models/request.rb', line 186</span>

<span class='kw'>def</span> <span class='id identifier rubyid_study='>study=</span><span class='lparen'>(</span><span class='id identifier rubyid_study'>study</span><span class='rparen'>)</span>
  <span class='kw'>return</span> <span class='kw'>unless</span> <span class='id identifier rubyid_study'>study</span>
  <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_study_id'>study_id</span> <span class='op'>=</span> <span class='id identifier rubyid_study'>study</span><span class='period'>.</span><span class='id identifier rubyid_id'>id</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="study_id=-instance_method">
  
    #<strong>study_id=</strong>(study_id)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  
<p class="tag_title">Raises:</p>
<ul class="raise">
  
    <li>
      
      
        <span class='type'>(<tt>RuntimeError</tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


181
182
183
184</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/models/request.rb', line 181</span>

<span class='kw'>def</span> <span class='id identifier rubyid_study_id='>study_id=</span><span class='lparen'>(</span><span class='id identifier rubyid_study_id'>study_id</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_raise'>raise</span> <span class='const'>RuntimeError</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Initial study already set</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>if</span> <span class='id identifier rubyid_initial_study_id'>initial_study_id</span>
  <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_initial_study_id'>initial_study_id</span> <span class='op'>=</span> <span class='id identifier rubyid_study_id'>study_id</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="submission_plate_count-instance_method">
  
    #<strong>submission_plate_count</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


162
163
164
165
166
167</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/models/request.rb', line 162</span>

<span class='kw'>def</span> <span class='id identifier rubyid_submission_plate_count'>submission_plate_count</span>
  <span class='id identifier rubyid_submission'>submission</span><span class='period'>.</span><span class='id identifier rubyid_requests'>requests</span><span class='period'>.</span>
    <span class='id identifier rubyid_where'>where</span><span class='lparen'>(</span><span class='label'>request_type_id:</span> <span class='id identifier rubyid_request_type_id'>request_type_id</span><span class='rparen'>)</span><span class='period'>.</span>
    <span class='id identifier rubyid_joins'>joins</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>LEFT JOIN container_associations AS spca ON spca.content_id = requests.asset_id</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span><span class='period'>.</span>
    <span class='id identifier rubyid_count'>count</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>DISTINCT(spca.container_id)</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="submitted_at-instance_method">
  
    #<strong>submitted_at</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>The date at which the submission was made. In most cases this will be
similar to the request&#39;s created_at timestamp. We go via submission to
ensure that copied requests bear the original timestamp.</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


487
488
489
490
491
492</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/models/request.rb', line 487</span>

<span class='kw'>def</span> <span class='id identifier rubyid_submitted_at'>submitted_at</span>
  <span class='comment'># Hopefully we shouldn&#39;t get any requests that don&#39;t have a submission. But validation is turned off, so
</span>  <span class='comment'># we should assume it it possible.
</span>  <span class='kw'>return</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_end'>&#39;</span></span> <span class='kw'>if</span> <span class='id identifier rubyid_submission'>submission</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span>
  <span class='id identifier rubyid_submission'>submission</span><span class='period'>.</span><span class='id identifier rubyid_created_at'>created_at</span><span class='period'>.</span><span class='id identifier rubyid_strftime'>strftime</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>%Y-%m-%d</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="target_purpose-instance_method">
  
    #<strong>target_purpose</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


506
507
508</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/models/request.rb', line 506</span>

<span class='kw'>def</span> <span class='id identifier rubyid_target_purpose'>target_purpose</span>
  <span class='kw'>nil</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="target_tube-instance_method">
  
    #<strong>target_tube</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


402
403
404</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/models/request.rb', line 402</span>

<span class='kw'>def</span> <span class='id identifier rubyid_target_tube'>target_tube</span>
  <span class='id identifier rubyid_target_asset'>target_asset</span> <span class='kw'>if</span> <span class='id identifier rubyid_target_asset'>target_asset</span><span class='period'>.</span><span class='id identifier rubyid_is_a?'>is_a?</span><span class='lparen'>(</span><span class='const'>Tube</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="update_pool_information-instance_method">
  
    #<strong>update_pool_information</strong>(pool_information)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Adds any pool information to the structure so that it can be reported to
client applications</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


477
478
479</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/models/request.rb', line 477</span>

<span class='kw'>def</span> <span class='id identifier rubyid_update_pool_information'>update_pool_information</span><span class='lparen'>(</span><span class='id identifier rubyid_pool_information'>pool_information</span><span class='rparen'>)</span>
  <span class='comment'># Does not need anything here
</span><span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="update_priority-instance_method">
  
    #<strong>update_priority</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


451
452
453
454</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/models/request.rb', line 451</span>

<span class='kw'>def</span> <span class='id identifier rubyid_update_priority'>update_priority</span>
  <span class='id identifier rubyid_priority'>priority</span> <span class='op'>=</span> <span class='lparen'>(</span><span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_priority'>priority</span> <span class='op'>+</span> <span class='int'>1</span><span class='rparen'>)</span> <span class='op'>%</span> <span class='int'>4</span>
  <span class='id identifier rubyid_submission'>submission</span><span class='period'>.</span><span class='id identifier rubyid_update_attributes!'>update_attributes!</span><span class='lparen'>(</span><span class='label'>priority:</span> <span class='id identifier rubyid_priority'>priority</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="update_responsibilities!-instance_method">
  
    #<strong>update_responsibilities!</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


169
170
171</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/models/request.rb', line 169</span>

<span class='kw'>def</span> <span class='id identifier rubyid_update_responsibilities!'>update_responsibilities!</span>
  <span class='comment'># Do nothing
</span><span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="validator_for-instance_method">
  
    #<strong>validator_for</strong>(request_option)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


41
42
43</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/models/request.rb', line 41</span>

<span class='kw'>def</span> <span class='id identifier rubyid_validator_for'>validator_for</span><span class='lparen'>(</span><span class='id identifier rubyid_request_option'>request_option</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_request_type'>request_type</span><span class='period'>.</span><span class='id identifier rubyid_request_type_validators'>request_type_validators</span><span class='period'>.</span><span class='id identifier rubyid_find_by_request_option!'>find_by_request_option!</span><span class='lparen'>(</span><span class='id identifier rubyid_request_option'>request_option</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="value_for-instance_method">
  
    #<strong>value_for</strong>(name, batch = nil)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


354
355
356
357
358
359
360
361
362</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/models/request.rb', line 354</span>

<span class='kw'>def</span> <span class='id identifier rubyid_value_for'>value_for</span><span class='lparen'>(</span><span class='id identifier rubyid_name'>name</span><span class='comma'>,</span> <span class='id identifier rubyid_batch'>batch</span> <span class='op'>=</span> <span class='kw'>nil</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_rit'>rit</span> <span class='op'>=</span> <span class='const'>RequestInformationType</span><span class='period'>.</span><span class='id identifier rubyid_find_by_name'>find_by_name</span><span class='lparen'>(</span><span class='id identifier rubyid_name'>name</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_rit_value'>rit_value</span> <span class='op'>=</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_get_value'>get_value</span><span class='lparen'>(</span><span class='id identifier rubyid_rit'>rit</span><span class='rparen'>)</span> <span class='kw'>if</span> <span class='id identifier rubyid_rit'>rit</span><span class='period'>.</span><span class='id identifier rubyid_present?'>present?</span>
  <span class='kw'>return</span> <span class='id identifier rubyid_rit_value'>rit_value</span> <span class='kw'>if</span> <span class='id identifier rubyid_rit_value'>rit_value</span><span class='period'>.</span><span class='id identifier rubyid_present?'>present?</span>

  <span class='id identifier rubyid_list'>list</span> <span class='op'>=</span> <span class='lparen'>(</span><span class='id identifier rubyid_batch'>batch</span><span class='period'>.</span><span class='id identifier rubyid_present?'>present?</span> <span class='op'>?</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_lab_events_for_batch'>lab_events_for_batch</span><span class='lparen'>(</span><span class='id identifier rubyid_batch'>batch</span><span class='rparen'>)</span> <span class='op'>:</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_lab_events'>lab_events</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_list'>list</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_event'>event</span><span class='op'>|</span> <span class='id identifier rubyid_desc'>desc</span> <span class='op'>=</span> <span class='id identifier rubyid_event'>event</span><span class='period'>.</span><span class='id identifier rubyid_descriptor_value_for'>descriptor_value_for</span><span class='lparen'>(</span><span class='id identifier rubyid_name'>name</span><span class='rparen'>)</span> <span class='kw'>and</span> <span class='kw'>return</span> <span class='id identifier rubyid_desc'>desc</span> <span class='rbrace'>}</span>
  <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_end'>&quot;</span></span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
  </div>

</div>

      <div id="footer">
  Generated on Mon Dec 19 11:16:45 2016 by
  <a href="http://yardoc.org" title="Yay! A Ruby Documentation Tool" target="_parent">yard</a>
  0.9.5 (ruby-2.3.3).
</div>

    </div>
  </body>
</html>