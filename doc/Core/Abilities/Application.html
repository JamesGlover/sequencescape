<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>
  Class: Core::Abilities::Application
  
    &mdash; Documentation by YARD 0.9.5
  
</title>

  <link rel="stylesheet" href="../../css/style.css" type="text/css" charset="utf-8" />

  <link rel="stylesheet" href="../../css/common.css" type="text/css" charset="utf-8" />

<script type="text/javascript" charset="utf-8">
  pathId = "Core::Abilities::Application";
  relpath = '../../';
</script>


  <script type="text/javascript" charset="utf-8" src="../../js/jquery.js"></script>

  <script type="text/javascript" charset="utf-8" src="../../js/app.js"></script>


  </head>
  <body>
    <div class="nav_wrap">
      <iframe id="nav" src="../../class_list.html"></iframe>
      <div id="resizer"></div>
    </div>

    <div id="main" tabindex="-1">
      <div id="header">
        <div id="menu">
  
    <a href="../../_index.html">Index (A)</a> &raquo;
    <span class='title'><span class='object_link'><a href="../../Core.html" title="Core (module)">Core</a></span></span> &raquo; <span class='title'><span class='object_link'><a href="../Abilities.html" title="Core::Abilities (module)">Abilities</a></span></span>
     &raquo; 
    <span class="title">Application</span>
  
</div>

        <div id="search">
  
    <a class="full_list_link" id="class_list_link"
        href="../../class_list.html">

        <svg width="24" height="24">
          <rect x="0" y="4" width="24" height="4" rx="1" ry="1"></rect>
          <rect x="0" y="12" width="24" height="4" rx="1" ry="1"></rect>
          <rect x="0" y="20" width="24" height="4" rx="1" ry="1"></rect>
        </svg>
    </a>
  
</div>
        <div class="clear"></div>
      </div>

      <iframe id="search_frame" src="../../class_list.html"></iframe>

      <div id="content"><h1>Class: Core::Abilities::Application
  
  
  
</h1>
<div class="box_info">
  
  <dl>
    <dt>Inherits:</dt>
    <dd>
      <span class="inheritName"><span class='object_link'><a href="Base.html" title="Core::Abilities::Base (class)">Base</a></span></span>
      
        <ul class="fullTree">
          <li>Object</li>
          
            <li class="next"><span class='object_link'><a href="Base.html" title="Core::Abilities::Base (class)">Base</a></span></li>
          
            <li class="next">Core::Abilities::Application</li>
          
        </ul>
        <a href="#" class="inheritanceTree">show all</a>
      
    </dd>
  </dl>
  

  
  
  
  
  

  

  
  <dl>
    <dt>Defined in:</dt>
    <dd>app/api/core/abilities.rb</dd>
  </dl>
  
</div>








  
    <h2>
      Instance Method Summary
      <small><a href="#" class="summary_toggle">collapse</a></small>
    </h2>

    <ul class="summary">
      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#authenticate%21-instance_method" title="#authenticate! (instance method)">#<strong>authenticate!</strong>(user_ability)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>The decision as to whether the application requires the user to be
authenticated is made by the application.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#initialize-instance_method" title="#initialize (instance method)">#<strong>initialize</strong>(request)  &#x21d2; Application </a>
    

    
  </span>
  
  
    <span class="note title constructor">constructor</span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>A new instance of Application.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#privilege-instance_method" title="#privilege (instance method)">#<strong>privilege</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
    </ul>
  


  
  
  
  
  
  
  
  
  
  
  
  
  
  
  <h3 class="inherited">Methods included from <span class='object_link'><a href="Base/ClassMethods.html" title="Core::Abilities::Base::ClassMethods (module)">Base::ClassMethods</a></span></h3>
  <p class="inherited"><span class='object_link'><a href="Base/ClassMethods.html#recorder_helper-instance_method" title="Core::Abilities::Base::ClassMethods#recorder_helper (method)">#recorder_helper</a></span></p>

  <div id="constructor_details" class="method_details_list">
  <h2>Constructor Details</h2>
  
    <div class="method_details first">
  <h3 class="signature first" id="initialize-instance_method">
  
    #<strong>initialize</strong>(request)  &#x21d2; <tt><span class='object_link'><a href="" title="Core::Abilities::Application (class)">Application</a></span></tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns a new instance of Application</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


143
144
145
146</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/api/core/abilities.rb', line 143</span>

<span class='kw'>def</span> <span class='id identifier rubyid_initialize'>initialize</span><span class='lparen'>(</span><span class='id identifier rubyid_request'>request</span><span class='rparen'>)</span>
  <span class='ivar'>@api_application</span> <span class='op'>=</span> <span class='const'>ApiApplication</span><span class='period'>.</span><span class='id identifier rubyid_find_by_key'>find_by_key</span><span class='lparen'>(</span><span class='id identifier rubyid_request'>request</span><span class='period'>.</span><span class='id identifier rubyid_authorisation_code'>authorisation_code</span><span class='rparen'>)</span>
  <span class='kw'>super</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
  
</div>


  <div id="instance_method_details" class="method_details_list">
    <h2>Instance Method Details</h2>

    
      <div class="method_details first">
  <h3 class="signature first" id="authenticate!-instance_method">
  
    #<strong>authenticate!</strong>(user_ability)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>The decision as to whether the application requires the user to be
authenticated is made by the application.  If it does, however, then the
user abilities may need to be changed so we need to modify that too.</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


181
182
183
184
185
186
187
188
189
190
191</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/api/core/abilities.rb', line 181</span>

<span class='kw'>def</span> <span class='id identifier rubyid_authenticate!'>authenticate!</span><span class='lparen'>(</span><span class='id identifier rubyid_user_ability'>user_ability</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_single_sign_on_cookie'>single_sign_on_cookie</span> <span class='op'>=</span> <span class='ivar'>@request</span><span class='period'>.</span><span class='id identifier rubyid_authentication_code'>authentication_code</span>
  <span class='kw'>if</span> <span class='id identifier rubyid_single_sign_on_cookie'>single_sign_on_cookie</span><span class='period'>.</span><span class='id identifier rubyid_blank?'>blank?</span> <span class='kw'>and</span> <span class='id identifier rubyid_cannot?'>cannot?</span><span class='lparen'>(</span><span class='symbol'>:authenticate</span><span class='comma'>,</span> <span class='symbol'>:nil</span><span class='rparen'>)</span>
    <span class='const'>Core</span><span class='op'>::</span><span class='const'>Service</span><span class='op'>::</span><span class='const'>Authentication</span><span class='op'>::</span><span class='const'>UnauthenticatedError</span><span class='period'>.</span><span class='id identifier rubyid_no_cookie!'>no_cookie!</span>
  <span class='kw'>elsif</span> <span class='kw'>not</span> <span class='id identifier rubyid_single_sign_on_cookie'>single_sign_on_cookie</span><span class='period'>.</span><span class='id identifier rubyid_blank?'>blank?</span>
    <span class='id identifier rubyid_user'>user</span> <span class='op'>=</span> <span class='op'>::</span><span class='const'>User</span><span class='period'>.</span><span class='id identifier rubyid_find_by_api_key'>find_by_api_key</span><span class='lparen'>(</span><span class='id identifier rubyid_single_sign_on_cookie'>single_sign_on_cookie</span><span class='rparen'>)</span> <span class='kw'>or</span> <span class='const'>Core</span><span class='op'>::</span><span class='const'>Service</span><span class='op'>::</span><span class='const'>Authentication</span><span class='op'>::</span><span class='const'>UnauthenticatedError</span><span class='period'>.</span><span class='id identifier rubyid_unauthenticated!'>unauthenticated!</span>
    <span class='ivar'>@request</span><span class='period'>.</span><span class='id identifier rubyid_service'>service</span><span class='period'>.</span><span class='id identifier rubyid_instance_variable_set'>instance_variable_set</span><span class='lparen'>(</span><span class='symbol'>:@user</span><span class='comma'>,</span> <span class='id identifier rubyid_user'>user</span><span class='rparen'>)</span>
  <span class='kw'>end</span>

  <span class='id identifier rubyid_user_ability'>user_ability</span><span class='period'>.</span><span class='id identifier rubyid_authenticated!'>authenticated!</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="privilege-instance_method">
  
    #<strong>privilege</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


148
149
150</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/api/core/abilities.rb', line 148</span>

<span class='kw'>def</span> <span class='id identifier rubyid_privilege'>privilege</span>
  <span class='ivar'>@api_application</span><span class='period'>.</span><span class='id identifier rubyid_privilege'>privilege</span><span class='period'>.</span><span class='id identifier rubyid_to_sym'>to_sym</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
  </div>

</div>

      <div id="footer">
  Generated on Mon Dec 19 11:16:52 2016 by
  <a href="http://yardoc.org" title="Yay! A Ruby Documentation Tool" target="_parent">yard</a>
  0.9.5 (ruby-2.3.3).
</div>

    </div>
  </body>
</html>