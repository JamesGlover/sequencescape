<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>
  Class: Sample
  
    &mdash; Documentation by YARD 0.9.5
  
</title>

  <link rel="stylesheet" href="css/style.css" type="text/css" charset="utf-8" />

  <link rel="stylesheet" href="css/common.css" type="text/css" charset="utf-8" />

<script type="text/javascript" charset="utf-8">
  pathId = "Sample";
  relpath = '';
</script>


  <script type="text/javascript" charset="utf-8" src="js/jquery.js"></script>

  <script type="text/javascript" charset="utf-8" src="js/app.js"></script>


  </head>
  <body>
    <div class="nav_wrap">
      <iframe id="nav" src="class_list.html"></iframe>
      <div id="resizer"></div>
    </div>

    <div id="main" tabindex="-1">
      <div id="header">
        <div id="menu">
  
    <a href="_index.html">Index (S)</a> &raquo;
    
    
    <span class="title">Sample</span>
  
</div>

        <div id="search">
  
    <a class="full_list_link" id="class_list_link"
        href="class_list.html">

        <svg width="24" height="24">
          <rect x="0" y="4" width="24" height="4" rx="1" ry="1"></rect>
          <rect x="0" y="12" width="24" height="4" rx="1" ry="1"></rect>
          <rect x="0" y="20" width="24" height="4" rx="1" ry="1"></rect>
        </svg>
    </a>
  
</div>
        <div class="clear"></div>
      </div>

      <iframe id="search_frame" src="class_list.html"></iframe>

      <div id="content"><h1>Class: Sample
  
  
  
</h1>
<div class="box_info">
  
  <dl>
    <dt>Inherits:</dt>
    <dd>
      <span class="inheritName"><span class='object_link'><a href="ActiveRecord/Base.html" title="ActiveRecord::Base (class)">ActiveRecord::Base</a></span></span>
      
        <ul class="fullTree">
          <li>Object</li>
          
            <li class="next"><span class='object_link'><a href="ActiveRecord/Base.html" title="ActiveRecord::Base (class)">ActiveRecord::Base</a></span></li>
          
            <li class="next">Sample</li>
          
        </ul>
        <a href="#" class="inheritanceTree">show all</a>
      
    </dd>
  </dl>
  

  
  
  <dl>
      <dt>Extended by:</dt>
      <dd><span class='object_link'><a href="EventfulRecord.html" title="EventfulRecord (module)">EventfulRecord</a></span>, <span class='object_link'><a href="Metadata.html" title="Metadata (module)">Metadata</a></span>, <span class='object_link'><a href="ValidationStateGuard.html" title="ValidationStateGuard (module)">ValidationStateGuard</a></span></dd>
  </dl>
  
  
  
  <dl>
      <dt>Includes:</dt>
      <dd><span class='object_link'><a href="Aliquot/Aliquotable.html" title="Aliquot::Aliquotable (module)">Aliquot::Aliquotable</a></span>, <span class='object_link'><a href="Api/SampleIO/Extensions.html" title="Api::SampleIO::Extensions (module)">Api::SampleIO::Extensions</a></span>, <span class='object_link'><a href="ExternalProperties.html" title="ExternalProperties (module)">ExternalProperties</a></span>, <span class='object_link'><a href="Identifiable.html" title="Identifiable (module)">Identifiable</a></span>, ModelExtensions::Sample, <span class='object_link'><a href="SampleManifest/InputBehaviour/SampleUpdating.html" title="SampleManifest::InputBehaviour::SampleUpdating (module)">SampleManifest::InputBehaviour::SampleUpdating</a></span>, SharedBehaviour::Named, <span class='object_link'><a href="StandardNamedScopes.html" title="StandardNamedScopes (module)">StandardNamedScopes</a></span>, <span class='object_link'><a href="Uuid/Uuidable.html" title="Uuid::Uuidable (module)">Uuid::Uuidable</a></span></dd>
  </dl>
  
  

  

  
  <dl>
    <dt>Defined in:</dt>
    <dd>lib/cron_scripts/generate_sample_accessions.rb<span class="defines">,<br />
  app/models/sample.rb</span>
</dd>
  </dl>
  
</div>

<h2>Overview</h2><div class="docstring">
  <div class="discussion">
    
<p>This file is part of SEQUENCESCAPE is distributed under the terms of GNU
General Public License version 1 or later; Please refer to the LICENSE and
README files for information on licensing and authorship of this file.
Copyright (C) 2007-2011,2011,2013,2014 Genome Research Ltd.</p>


  </div>
</div>
<div class="tags">
  

</div><h2>Defined Under Namespace</h2>
<p class="children">
  
    
  
    
      <strong class="classes">Classes:</strong> <span class='object_link'><a href="Sample/Metadata.html" title="Sample::Metadata (class)">Metadata</a></span>
    
  
</p>

  <h2>Constant Summary</h2>
  <dl class="constants">
    
      <dt id="ArrayExpressFields-constant" class="">ArrayExpressFields =
        
      </dt>
      <dd><pre class="code"><span class='qwords_beg'>%w(</span><span class='tstring_content'>genotype</span><span class='words_sep'> </span><span class='tstring_content'>phenotype</span><span class='words_sep'> </span><span class='tstring_content'>strain_or_line</span><span class='words_sep'> </span><span class='tstring_content'>developmental_stage</span><span class='words_sep'> </span><span class='tstring_content'>sex</span><span class='words_sep'> </span><span class='tstring_content'>cell_type</span><span class='words_sep'> </span><span class='tstring_content'>disease_state</span><span class='words_sep'> </span><span class='tstring_content'>compound</span><span class='words_sep'> </span><span class='tstring_content'>dose</span><span class='words_sep'> </span><span class='tstring_content'>immunoprecipitate</span><span class='words_sep'> </span><span class='tstring_content'>growth_condition</span><span class='words_sep'> </span><span class='tstring_content'>rnai</span><span class='words_sep'> </span><span class='tstring_content'>organism_part</span><span class='words_sep'> </span><span class='tstring_content'>species</span><span class='words_sep'> </span><span class='tstring_content'>time_point</span><span class='words_sep'> </span><span class='tstring_content'>age</span><span class='words_sep'> </span><span class='tstring_content'>treatment</span><span class='words_sep'>)</span></pre></dd>
    
      <dt id="EgaFields-constant" class="">EgaFields =
        
      </dt>
      <dd><pre class="code"><span class='qwords_beg'>%w(</span><span class='tstring_content'>subject</span><span class='words_sep'> </span><span class='tstring_content'>disease</span><span class='words_sep'> </span><span class='tstring_content'>treatment</span><span class='words_sep'> </span><span class='tstring_content'>gender</span><span class='words_sep'> </span><span class='tstring_content'>phenotype</span><span class='words_sep'>)</span></pre></dd>
    
      <dt id="GC_CONTENTS-constant" class="">GC_CONTENTS =
        
      </dt>
      <dd><pre class="code"><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Neutral</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>High AT</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>High GC</span><span class='tstring_end'>&#39;</span></span><span class='rbracket'>]</span></pre></dd>
    
      <dt id="GENDERS-constant" class="">GENDERS =
        
      </dt>
      <dd><pre class="code"><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Male</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Female</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Mixed</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Hermaphrodite</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Unknown</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Not Applicable</span><span class='tstring_end'>&#39;</span></span><span class='rbracket'>]</span></pre></dd>
    
      <dt id="DNA_SOURCES-constant" class="">DNA_SOURCES =
        
      </dt>
      <dd><pre class="code"><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Genomic</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Whole Genome Amplified</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Blood</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Cell Line</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Saliva</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Brain</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>FFPE</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span>
<span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Amniocentesis Uncultured</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Amniocentesis Cultured</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>CVS Uncultured</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>CVS Cultured</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Fetal Blood</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Tissue</span><span class='tstring_end'>&#39;</span></span><span class='rbracket'>]</span></pre></dd>
    
      <dt id="SRA_HOLD_VALUES-constant" class="">SRA_HOLD_VALUES =
        
      </dt>
      <dd><pre class="code"><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Hold</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Public</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Protect</span><span class='tstring_end'>&#39;</span></span><span class='rbracket'>]</span></pre></dd>
    
      <dt id="AGE_REGEXP-constant" class="">AGE_REGEXP =
        
      </dt>
      <dd><pre class="code"><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>\d+(?:\.\d+|\-\d+|\.\d+\-\d+\.\d+|\.\d+\-\d+\.\d+)?\s+(?:second|minute|day|week|month|year)s?|Not Applicable|N/A|To be provided</span><span class='tstring_end'>&#39;</span></span></pre></dd>
    
      <dt id="DOSE_REGEXP-constant" class="">DOSE_REGEXP =
        
      </dt>
      <dd><pre class="code"><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>\d+(?:\.\d+)?\s+\w+(?:\/\w+)?|Not Applicable|N/A|To be provided</span><span class='tstring_end'>&#39;</span></span></pre></dd>
    
  </dl>



  
  
  <h3 class="inherited">Constants included
     from <span class='object_link'><a href="Metadata.html" title="Metadata (module)">Metadata</a></span></h3>
  <p class="inherited"><span class='object_link'><a href="Metadata.html#SECTION_FIELDS-constant" title="Metadata::SECTION_FIELDS (constant)">Metadata::SECTION_FIELDS</a></span></p>





  
    <h2>
      Class Method Summary
      <small><a href="#" class="summary_toggle">collapse</a></small>
    </h2>

    <ul class="summary">
      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#submissions_by_assets-class_method" title="submissions_by_assets (class method)">.<strong>submissions_by_assets</strong>(study_id, asset_group_id)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
    </ul>
  
    <h2>
      Instance Method Summary
      <small><a href="#" class="summary_toggle">collapse</a></small>
    </h2>

    <ul class="summary">
      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#accession_could_be_generated%3F-instance_method" title="#accession_could_be_generated? (instance method)">#<strong>accession_could_be_generated?</strong>  &#x21d2; Boolean </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>If there is no existing ebi_accession_number and we have a taxon id and we
have a common name for the sample return true else false.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#accession_number%3F-instance_method" title="#accession_number? (instance method)">#<strong>accession_number?</strong>  &#x21d2; Boolean </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#accession_service-instance_method" title="#accession_service (instance method)">#<strong>accession_service</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#ebi_accession_number-instance_method" title="#ebi_accession_number (instance method)">#<strong>ebi_accession_number</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#ena_study-instance_method" title="#ena_study (instance method)">#<strong>ena_study</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#error-instance_method" title="#error (instance method)">#<strong>error</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#friendly_name-instance_method" title="#friendly_name (instance method)">#<strong>friendly_name</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#genotyping_done-instance_method" title="#genotyping_done (instance method)">#<strong>genotyping_done</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>at the moment return a string which is a comma separated list of snp plate
id.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#genotyping_snp_plate_id-instance_method" title="#genotyping_snp_plate_id (instance method)">#<strong>genotyping_snp_plate_id</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#has_ebi_accession_number-instance_method" title="#has_ebi_accession_number (instance method)">#<strong>has_ebi_accession_number</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#has_request-instance_method" title="#has_request (instance method)">#<strong>has_request</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#has_request_all_cancelled%3F-instance_method" title="#has_request_all_cancelled? (instance method)">#<strong>has_request_all_cancelled?</strong>  &#x21d2; Boolean </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#has_submission%3F-instance_method" title="#has_submission? (instance method)">#<strong>has_submission?</strong>  &#x21d2; Boolean </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#name_change%3F-instance_method" title="#name_change? (instance method)">#<strong>name_change?</strong>(new_name)  &#x21d2; Boolean </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>TODO: remove as this is no longer needed (validation of name change will
fail) On update, checks if updating the name is possible.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#name_unchanged-instance_method" title="#name_unchanged (instance method)">#<strong>name_unchanged</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#release-instance_method" title="#release (instance method)">#<strong>release</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#released%3F-instance_method" title="#released? (instance method)">#<strong>released?</strong>  &#x21d2; Boolean </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>TODO: move to sample_metadata and delegate.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#rename_to%21-instance_method" title="#rename_to! (instance method)">#<strong>rename_to!</strong>(new_name)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#sample_empty%3F-instance_method" title="#sample_empty? (instance method)">#<strong>sample_empty?</strong>(supplier_sample_name = self.name)  &#x21d2; Boolean </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#sample_external_name-instance_method" title="#sample_external_name (instance method)">#<strong>sample_external_name</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#sample_reference_genome-instance_method" title="#sample_reference_genome (instance method)">#<strong>sample_reference_genome</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#sample_supplier_name_empty%3F-instance_method" title="#sample_supplier_name_empty? (instance method)">#<strong>sample_supplier_name_empty?</strong>(supplier_sample_name)  &#x21d2; Boolean </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#select_study-instance_method" title="#select_study (instance method)">#<strong>select_study</strong>(sample_id)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#shorten_sanger_sample_id-instance_method" title="#shorten_sanger_sample_id (instance method)">#<strong>shorten_sanger_sample_id</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#subject_type-instance_method" title="#subject_type (instance method)">#<strong>subject_type</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#validate_ena_required_fields%21-instance_method" title="#validate_ena_required_fields! (instance method)">#<strong>validate_ena_required_fields!</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#validating_ena_required_fields_with_first_study%3D-instance_method" title="#validating_ena_required_fields_with_first_study= (instance method)">#<strong>validating_ena_required_fields_with_first_study=</strong>(state)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#withdraw_consent-instance_method" title="#withdraw_consent (instance method)">#<strong>withdraw_consent</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
    </ul>
  


  
  
  
  
  
  
  
  
  <h3 class="inherited">Methods included from <span class='object_link'><a href="Metadata.html" title="Metadata (module)">Metadata</a></span></h3>
  <p class="inherited"><span class='object_link'><a href="Metadata.html#has_metadata-instance_method" title="Metadata#has_metadata (method)">has_metadata</a></span>, <span class='object_link'><a href="Metadata.html#required_tags-class_method" title="Metadata.required_tags (method)">required_tags</a></span></p>

  
  
  
  
  
  
  
  
  <h3 class="inherited">Methods included from <span class='object_link'><a href="ValidationStateGuard.html" title="ValidationStateGuard (module)">ValidationStateGuard</a></span></h3>
  <p class="inherited"><span class='object_link'><a href="ValidationStateGuard.html#validation_guard-instance_method" title="ValidationStateGuard#validation_guard (method)">validation_guard</a></span>, <span class='object_link'><a href="ValidationStateGuard.html#validation_guarded_by-instance_method" title="ValidationStateGuard#validation_guarded_by (method)">validation_guarded_by</a></span></p>

  
  
  
  
  
  
  
  
  <h3 class="inherited">Methods included from <span class='object_link'><a href="EventfulRecord.html" title="EventfulRecord (module)">EventfulRecord</a></span></h3>
  <p class="inherited"><span class='object_link'><a href="EventfulRecord.html#has_many_events-instance_method" title="EventfulRecord#has_many_events (method)">has_many_events</a></span>, <span class='object_link'><a href="EventfulRecord.html#has_many_lab_events-instance_method" title="EventfulRecord#has_many_lab_events (method)">has_many_lab_events</a></span>, <span class='object_link'><a href="EventfulRecord.html#has_one_event_with_family-instance_method" title="EventfulRecord#has_one_event_with_family (method)">has_one_event_with_family</a></span></p>

  
  
  
  
  
  
  
  
  <h3 class="inherited">Methods included from <span class='object_link'><a href="SampleManifest/InputBehaviour/SampleUpdating.html" title="SampleManifest::InputBehaviour::SampleUpdating (module)">SampleManifest::InputBehaviour::SampleUpdating</a></span></h3>
  <p class="inherited"><span class='object_link'><a href="SampleManifest/InputBehaviour/SampleUpdating.html#can_override_previous_manifest%3F-instance_method" title="SampleManifest::InputBehaviour::SampleUpdating#can_override_previous_manifest? (method)">#can_override_previous_manifest?</a></span>, <span class='object_link'><a href="SampleManifest/InputBehaviour/SampleUpdating.html#generate_no_update_event-instance_method" title="SampleManifest::InputBehaviour::SampleUpdating#generate_no_update_event (method)">#generate_no_update_event</a></span>, <span class='object_link'><a href="SampleManifest/InputBehaviour/SampleUpdating.html#included-class_method" title="SampleManifest::InputBehaviour::SampleUpdating.included (method)">included</a></span>, <span class='object_link'><a href="SampleManifest/InputBehaviour/SampleUpdating.html#reset_all_attributes_to_previous_values-instance_method" title="SampleManifest::InputBehaviour::SampleUpdating#reset_all_attributes_to_previous_values (method)">#reset_all_attributes_to_previous_values</a></span></p>

  
  
  
  
  
  
  
  
  <h3 class="inherited">Methods included from <span class='object_link'><a href="Aliquot/Aliquotable.html" title="Aliquot::Aliquotable (module)">Aliquot::Aliquotable</a></span></h3>
  <p class="inherited"><span class='object_link'><a href="Aliquot/Aliquotable.html#included-class_method" title="Aliquot::Aliquotable.included (method)">included</a></span></p>

  
  
  
  
  
  
  
  
  
  <h3 class="inherited">Methods included from <span class='object_link'><a href="StandardNamedScopes.html" title="StandardNamedScopes (module)">StandardNamedScopes</a></span></h3>
  <p class="inherited"><span class='object_link'><a href="StandardNamedScopes.html#included-class_method" title="StandardNamedScopes.included (method)">included</a></span></p>

  
  
  
  
  
  
  
  
  <h3 class="inherited">Methods included from <span class='object_link'><a href="Uuid/Uuidable.html" title="Uuid::Uuidable (module)">Uuid::Uuidable</a></span></h3>
  <p class="inherited"><span class='object_link'><a href="Uuid/Uuidable.html#included-class_method" title="Uuid::Uuidable.included (method)">included</a></span>, <span class='object_link'><a href="Uuid/Uuidable.html#unsaved_uuid%21-instance_method" title="Uuid::Uuidable#unsaved_uuid! (method)">#unsaved_uuid!</a></span>, <span class='object_link'><a href="Uuid/Uuidable.html#uuid-instance_method" title="Uuid::Uuidable#uuid (method)">#uuid</a></span></p>

  
  
  
  
  
  
  
  
  <h3 class="inherited">Methods included from <span class='object_link'><a href="Identifiable.html" title="Identifiable (module)">Identifiable</a></span></h3>
  <p class="inherited"><span class='object_link'><a href="Identifiable.html#external_id-instance_method" title="Identifiable#external_id (method)">#external_id</a></span>, <span class='object_link'><a href="Identifiable.html#external_object-instance_method" title="Identifiable#external_object (method)">#external_object</a></span>, <span class='object_link'><a href="Identifiable.html#identifier-instance_method" title="Identifiable#identifier (method)">#identifier</a></span>, <span class='object_link'><a href="Identifiable.html#included-class_method" title="Identifiable.included (method)">included</a></span>, <span class='object_link'><a href="Identifiable.html#set_external-instance_method" title="Identifiable#set_external (method)">#set_external</a></span></p>

  
  
  
  
  
  
  
  
  <h3 class="inherited">Methods included from <span class='object_link'><a href="ExternalProperties.html" title="ExternalProperties (module)">ExternalProperties</a></span></h3>
  <p class="inherited"><span class='object_link'><a href="ExternalProperties.html#get_external_value-instance_method" title="ExternalProperties#get_external_value (method)">#get_external_value</a></span>, <span class='object_link'><a href="ExternalProperties.html#included-class_method" title="ExternalProperties.included (method)">included</a></span></p>

  
  
  
  
  
  
  
  
  <h3 class="inherited">Methods included from <span class='object_link'><a href="Api/SampleIO/Extensions.html" title="Api::SampleIO::Extensions (module)">Api::SampleIO::Extensions</a></span></h3>
  <p class="inherited"><span class='object_link'><a href="Api/SampleIO/Extensions.html#included-class_method" title="Api::SampleIO::Extensions.included (method)">included</a></span>, <span class='object_link'><a href="Api/SampleIO/Extensions.html#url_name-instance_method" title="Api::SampleIO::Extensions#url_name (method)">#url_name</a></span></p>

  
  
  
  
  
  
  
  
  
  <h3 class="inherited">Methods inherited from <span class='object_link'><a href="ActiveRecord/Base.html" title="ActiveRecord::Base (class)">ActiveRecord::Base</a></span></h3>
  <p class="inherited"><span class='object_link'><a href="ActiveRecord/Base.html#find_by_id_or_name-class_method" title="ActiveRecord::Base.find_by_id_or_name (method)">find_by_id_or_name</a></span>, <span class='object_link'><a href="ActiveRecord/Base.html#find_by_id_or_name%21-class_method" title="ActiveRecord::Base.find_by_id_or_name! (method)">find_by_id_or_name!</a></span>, <span class='object_link'><a href="ActiveRecord/Base.html#routing_key-instance_method" title="ActiveRecord::Base#routing_key (method)">#routing_key</a></span>, <span class='object_link'><a href="ActiveRecord/Base.html#transaction_with_amqp-class_method" title="ActiveRecord::Base.transaction_with_amqp (method)">transaction_with_amqp</a></span></p>

  
  
  
  
  
  
  
  
  <h3 class="inherited">Methods included from <span class='object_link'><a href="ApiTools.html" title="ApiTools (module)">ApiTools</a></span></h3>
  <p class="inherited"><span class='object_link'><a href="ApiTools.html#as_json-instance_method" title="ApiTools#as_json (method)">#as_json</a></span>, <span class='object_link'><a href="ApiTools.html#for_api-instance_method" title="ApiTools#for_api (method)">#for_api</a></span>, <span class='object_link'><a href="ApiTools.html#included-class_method" title="ApiTools.included (method)">included</a></span>, <span class='object_link'><a href="ApiTools.html#list_json-instance_method" title="ApiTools#list_json (method)">#list_json</a></span>, <span class='object_link'><a href="ApiTools.html#to_xml-instance_method" title="ApiTools#to_xml (method)">#to_xml</a></span>, <span class='object_link'><a href="ApiTools.html#to_yaml-instance_method" title="ApiTools#to_yaml (method)">#to_yaml</a></span>, <span class='object_link'><a href="ApiTools.html#url-instance_method" title="ApiTools#url (method)">#url</a></span>, <span class='object_link'><a href="ApiTools.html#url_name-instance_method" title="ApiTools#url_name (method)">#url_name</a></span></p>


  <div id="class_method_details" class="method_details_list">
    <h2>Class Method Details</h2>

    
      <div class="method_details first">
  <h3 class="signature first" id="submissions_by_assets-class_method">
  
    .<strong>submissions_by_assets</strong>(study_id, asset_group_id)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


215
216
217
218
219
220
221</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/models/sample.rb', line 215</span>

<span class='kw'>def</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_submissions_by_assets'>submissions_by_assets</span><span class='lparen'>(</span><span class='id identifier rubyid_study_id'>study_id</span><span class='comma'>,</span> <span class='id identifier rubyid_asset_group_id'>asset_group_id</span><span class='rparen'>)</span>
  <span class='kw'>return</span> <span class='lbracket'>[</span><span class='rbracket'>]</span> <span class='kw'>if</span> <span class='id identifier rubyid_asset_group_id'>asset_group_id</span> <span class='op'>==</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>0</span><span class='tstring_end'>&#39;</span></span>

  <span class='id identifier rubyid_study'>study</span> <span class='op'>=</span> <span class='const'>Study</span><span class='period'>.</span><span class='id identifier rubyid_find'>find</span><span class='lparen'>(</span><span class='id identifier rubyid_study_id'>study_id</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_asset_group_assets'>asset_group_assets</span> <span class='op'>=</span> <span class='const'>AssetGroupAsset</span><span class='period'>.</span><span class='id identifier rubyid_where'>where</span><span class='lparen'>(</span><span class='label'>asset_group_id:</span> <span class='id identifier rubyid_asset_group_id'>asset_group_id</span><span class='rparen'>)</span>
  <span class='kw'>return</span> <span class='id identifier rubyid_study'>study</span><span class='period'>.</span><span class='id identifier rubyid_submissions'>submissions</span><span class='period'>.</span><span class='id identifier rubyid_that_submitted_asset_id'>that_submitted_asset_id</span><span class='lparen'>(</span><span class='id identifier rubyid_asset_group_assets'>asset_group_assets</span><span class='period'>.</span><span class='id identifier rubyid_first'>first</span><span class='period'>.</span><span class='id identifier rubyid_asset_id'>asset_id</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_all'>all</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
  </div>

  <div id="instance_method_details" class="method_details_list">
    <h2>Instance Method Details</h2>

    
      <div class="method_details first">
  <h3 class="signature first" id="accession_could_be_generated?-instance_method">
  
    #<strong>accession_could_be_generated?</strong>  &#x21d2; <tt>Boolean</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>If there is no existing ebi_accession_number and we have a taxon id and we
have a common name for the sample return true else false</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


206
207
208
209
210
211
212
213</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/models/sample.rb', line 206</span>

<span class='kw'>def</span> <span class='id identifier rubyid_accession_could_be_generated?'>accession_could_be_generated?</span>
  <span class='kw'>return</span> <span class='kw'>false</span> <span class='kw'>unless</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_sample_metadata'>sample_metadata</span><span class='period'>.</span><span class='id identifier rubyid_sample_ebi_accession_number'>sample_ebi_accession_number</span><span class='period'>.</span><span class='id identifier rubyid_blank?'>blank?</span>
  <span class='id identifier rubyid_required_tags'>required_tags</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_tag'>tag</span><span class='op'>|</span>
    <span class='kw'>return</span> <span class='kw'>false</span> <span class='kw'>if</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_sample_metadata'>sample_metadata</span><span class='period'>.</span><span class='id identifier rubyid_send'>send</span><span class='lparen'>(</span><span class='id identifier rubyid_tag'>tag</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_blank?'>blank?</span>
  <span class='kw'>end</span>
  <span class='comment'># We have everything needed to generate an accession so...
</span>  <span class='kw'>true</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="accession_number?-instance_method">
  
    #<strong>accession_number?</strong>  &#x21d2; <tt>Boolean</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


200
201
202</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/models/sample.rb', line 200</span>

<span class='kw'>def</span> <span class='id identifier rubyid_accession_number?'>accession_number?</span>
  <span class='kw'>not</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_ebi_accession_number'>ebi_accession_number</span><span class='period'>.</span><span class='id identifier rubyid_blank?'>blank?</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="accession_service-instance_method">
  
    #<strong>accession_service</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


240
241
242
243</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/models/sample.rb', line 240</span>

<span class='kw'>def</span> <span class='id identifier rubyid_accession_service'>accession_service</span>
  <span class='kw'>return</span> <span class='kw'>nil</span> <span class='kw'>if</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_studies'>studies</span><span class='period'>.</span><span class='id identifier rubyid_empty?'>empty?</span>
  <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_studies'>studies</span><span class='period'>.</span><span class='id identifier rubyid_first'>first</span><span class='period'>.</span><span class='id identifier rubyid_accession_service'>accession_service</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="ebi_accession_number-instance_method">
  
    #<strong>ebi_accession_number</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


196
197
198</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/models/sample.rb', line 196</span>

<span class='kw'>def</span> <span class='id identifier rubyid_ebi_accession_number'>ebi_accession_number</span>
  <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_sample_metadata'>sample_metadata</span><span class='period'>.</span><span class='id identifier rubyid_sample_ebi_accession_number'>sample_ebi_accession_number</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="ena_study-instance_method">
  
    #<strong>ena_study</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


422
423
424</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/models/sample.rb', line 422</span>

<span class='kw'>def</span> <span class='id identifier rubyid_ena_study'>ena_study</span>
  <span class='ivar'>@ena_study</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="error-instance_method">
  
    #<strong>error</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


223
224
225</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/models/sample.rb', line 223</span>

<span class='kw'>def</span> <span class='id identifier rubyid_error'>error</span>
  <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Default error message</span><span class='tstring_end'>&quot;</span></span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="friendly_name-instance_method">
  
    #<strong>friendly_name</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


460
461
462</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/models/sample.rb', line 460</span>

<span class='kw'>def</span> <span class='id identifier rubyid_friendly_name'>friendly_name</span>
  <span class='id identifier rubyid_sanger_sample_id'>sanger_sample_id</span> <span class='op'>||</span> <span class='id identifier rubyid_name'>name</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="genotyping_done-instance_method">
  
    #<strong>genotyping_done</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>at the moment return a string which is a comma separated list of snp plate
id</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


246
247
248</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/models/sample.rb', line 246</span>

<span class='kw'>def</span> <span class='id identifier rubyid_genotyping_done'>genotyping_done</span>
  <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_get_external_value'>get_external_value</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>genotyping_done</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="genotyping_snp_plate_id-instance_method">
  
    #<strong>genotyping_snp_plate_id</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


250
251
252
253
254
255
256
257</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/models/sample.rb', line 250</span>

<span class='kw'>def</span> <span class='id identifier rubyid_genotyping_snp_plate_id'>genotyping_snp_plate_id</span>
  <span class='id identifier rubyid_s'>s</span> <span class='op'>=</span> <span class='id identifier rubyid_genotyping_done'>genotyping_done</span>
  <span class='kw'>if</span> <span class='id identifier rubyid_s'>s</span> <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_s'>s</span> <span class='op'>=~</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>:</span><span class='regexp_end'>/</span></span>
    <span class='id identifier rubyid_s'>s</span><span class='period'>.</span><span class='id identifier rubyid_split'>split</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>:</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_second'>second</span><span class='period'>.</span><span class='id identifier rubyid_to_i'>to_i</span> <span class='comment'># take the firt integer
</span>  <span class='kw'>else</span> <span class='comment'># old value
</span>    <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="has_ebi_accession_number-instance_method">
  
    #<strong>has_ebi_accession_number</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


168
169
170
171
172
173
174
175
176
177
178</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/models/sample.rb', line 168</span>

<span class='kw'>def</span> <span class='id identifier rubyid_has_ebi_accession_number'>has_ebi_accession_number</span>
  <span class='id identifier rubyid_has_ebi_accession_number'>has_ebi_accession_number</span> <span class='op'>=</span> <span class='kw'>false</span>

  <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_studies'>studies</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_study'>study</span><span class='op'>|</span>
    <span class='kw'>if</span> <span class='op'>!</span><span class='id identifier rubyid_study'>study</span><span class='period'>.</span><span class='id identifier rubyid_ebi_accession_number'>ebi_accession_number</span><span class='period'>.</span><span class='id identifier rubyid_blank?'>blank?</span>
      <span class='id identifier rubyid_has_ebi_accession_number'>has_ebi_accession_number</span> <span class='op'>=</span> <span class='kw'>true</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>

  <span class='kw'>return</span> <span class='id identifier rubyid_has_ebi_accession_number'>has_ebi_accession_number</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="has_request-instance_method">
  
    #<strong>has_request</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


138
139
140</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/models/sample.rb', line 138</span>

<span class='kw'>def</span> <span class='id identifier rubyid_has_request'>has_request</span>
  <span class='id identifier rubyid_requests'>requests</span><span class='period'>.</span><span class='id identifier rubyid_present?'>present?</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="has_request_all_cancelled?-instance_method">
  
    #<strong>has_request_all_cancelled?</strong>  &#x21d2; <tt>Boolean</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


142
143
144</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/models/sample.rb', line 142</span>

<span class='kw'>def</span> <span class='id identifier rubyid_has_request_all_cancelled?'>has_request_all_cancelled?</span>
  <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_requests'>requests</span><span class='period'>.</span><span class='id identifier rubyid_all?'>all?</span><span class='lparen'>(</span><span class='op'>&amp;</span><span class='symbol'>:cancelled?</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="has_submission?-instance_method">
  
    #<strong>has_submission?</strong>  &#x21d2; <tt>Boolean</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


146
147
148
149
150
151
152
153
154
155
156
157
158
159
160
161
162
163
164
165
166</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/models/sample.rb', line 146</span>

<span class='kw'>def</span> <span class='id identifier rubyid_has_submission?'>has_submission?</span>
  <span class='id identifier rubyid_has_submission'>has_submission</span> <span class='op'>=</span> <span class='kw'>false</span>
  <span class='kw'>if</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_has_request'>has_request</span>
    <span class='kw'>if</span> <span class='id identifier rubyid_has_request_all_cancelled?'>has_request_all_cancelled?</span>
      <span class='id identifier rubyid_sra_hold_value'>sra_hold_value</span> <span class='op'>=</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_sample_metadata'>sample_metadata</span><span class='period'>.</span><span class='id identifier rubyid_sample_sra_hold'>sample_sra_hold</span>
      <span class='kw'>if</span> <span class='id identifier rubyid_sra_hold_value'>sra_hold_value</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span>
        <span class='id identifier rubyid_has_submission'>has_submission</span> <span class='op'>=</span> <span class='kw'>false</span>
      <span class='kw'>elsif</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>hold</span><span class='tstring_end'>&#39;</span></span> <span class='op'>!=</span> <span class='id identifier rubyid_sra_hold_value'>sra_hold_value</span>
        <span class='id identifier rubyid_has_submission'>has_submission</span> <span class='op'>=</span> <span class='kw'>true</span>
      <span class='kw'>else</span>
        <span class='id identifier rubyid_has_submission'>has_submission</span> <span class='op'>=</span> <span class='kw'>false</span>
      <span class='kw'>end</span>
    <span class='kw'>else</span>
      <span class='id identifier rubyid_has_submission'>has_submission</span> <span class='op'>=</span> <span class='kw'>true</span>
    <span class='kw'>end</span>
  <span class='kw'>else</span> <span class='comment'># We have no requests, we&#39;re probably S2 (Or very old Sequencescape)
</span>       <span class='comment'># This is a hack, but I&#39;ll get this tidied up.
</span>    <span class='id identifier rubyid_has_submission'>has_submission</span> <span class='op'>=</span> <span class='kw'>true</span>
  <span class='kw'>end</span>
  <span class='kw'>return</span> <span class='id identifier rubyid_has_submission'>has_submission</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="name_change?-instance_method">
  
    #<strong>name_change?</strong>(new_name)  &#x21d2; <tt>Boolean</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>TODO: remove as this is no longer needed (validation of name change will
fail) On update, checks if updating the name is possible</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


182
183
184</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/models/sample.rb', line 182</span>

<span class='kw'>def</span> <span class='id identifier rubyid_name_change?'>name_change?</span><span class='lparen'>(</span><span class='id identifier rubyid_new_name'>new_name</span><span class='rparen'>)</span>
  <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span> <span class='op'>==</span> <span class='id identifier rubyid_new_name'>new_name</span> <span class='op'>?</span> <span class='kw'>false</span> <span class='op'>:</span> <span class='kw'>true</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="name_unchanged-instance_method">
  
    #<strong>name_unchanged</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


60
61
62
63</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/models/sample.rb', line 60</span>

<span class='kw'>def</span> <span class='id identifier rubyid_name_unchanged'>name_unchanged</span>
  <span class='id identifier rubyid_errors'>errors</span><span class='period'>.</span><span class='id identifier rubyid_add'>add</span><span class='lparen'>(</span><span class='symbol'>:name</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>cannot be changed</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span> <span class='kw'>unless</span> <span class='id identifier rubyid_can_rename_sample'>can_rename_sample</span>
  <span class='id identifier rubyid_can_rename_sample'>can_rename_sample</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="release-instance_method">
  
    #<strong>release</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


191
192
193
194</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/models/sample.rb', line 191</span>

<span class='kw'>def</span> <span class='id identifier rubyid_release'>release</span>
  <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_sample_metadata'>sample_metadata</span><span class='period'>.</span><span class='id identifier rubyid_sample_sra_hold'>sample_sra_hold</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Public</span><span class='tstring_end'>&#39;</span></span>
  <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_sample_metadata'>sample_metadata</span><span class='period'>.</span><span class='id identifier rubyid_save!'>save!</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="released?-instance_method">
  
    #<strong>released?</strong>  &#x21d2; <tt>Boolean</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>TODO: move to sample_metadata and delegate</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


187
188
189</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/models/sample.rb', line 187</span>

<span class='kw'>def</span> <span class='id identifier rubyid_released?'>released?</span>
  <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_sample_metadata'>sample_metadata</span><span class='period'>.</span><span class='id identifier rubyid_sample_sra_hold'>sample_sra_hold</span> <span class='op'>==</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Public</span><span class='tstring_end'>&#39;</span></span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="rename_to!-instance_method">
  
    #<strong>rename_to!</strong>(new_name)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


68
69
70</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/models/sample.rb', line 68</span>

<span class='kw'>def</span> <span class='id identifier rubyid_rename_to!'>rename_to!</span><span class='lparen'>(</span><span class='id identifier rubyid_new_name'>new_name</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_update_attributes!'>update_attributes!</span><span class='lparen'>(</span><span class='label'>name:</span> <span class='id identifier rubyid_new_name'>new_name</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="sample_empty?-instance_method">
  
    #<strong>sample_empty?</strong>(supplier_sample_name = self.name)  &#x21d2; <tt>Boolean</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


231
232
233
234</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/models/sample.rb', line 231</span>

<span class='kw'>def</span> <span class='id identifier rubyid_sample_empty?'>sample_empty?</span><span class='lparen'>(</span><span class='id identifier rubyid_supplier_sample_name'>supplier_sample_name</span> <span class='op'>=</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span><span class='rparen'>)</span>
  <span class='kw'>return</span> <span class='kw'>true</span> <span class='kw'>if</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_empty_supplier_sample_name'>empty_supplier_sample_name</span>
  <span class='id identifier rubyid_sample_supplier_name_empty?'>sample_supplier_name_empty?</span><span class='lparen'>(</span><span class='id identifier rubyid_supplier_sample_name'>supplier_sample_name</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="sample_external_name-instance_method">
  
    #<strong>sample_external_name</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


227
228
229</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/models/sample.rb', line 227</span>

<span class='kw'>def</span> <span class='id identifier rubyid_sample_external_name'>sample_external_name</span>
  <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="sample_reference_genome-instance_method">
  
    #<strong>sample_reference_genome</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


446
447
448
449
450</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/models/sample.rb', line 446</span>

<span class='kw'>def</span> <span class='id identifier rubyid_sample_reference_genome'>sample_reference_genome</span>
  <span class='kw'>return</span> <span class='id identifier rubyid_sample_metadata'>sample_metadata</span><span class='period'>.</span><span class='id identifier rubyid_reference_genome'>reference_genome</span> <span class='kw'>unless</span> <span class='id identifier rubyid_sample_metadata'>sample_metadata</span><span class='period'>.</span><span class='id identifier rubyid_reference_genome'>reference_genome</span><span class='period'>.</span><span class='id identifier rubyid_try'>try</span><span class='lparen'>(</span><span class='symbol'>:name</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_blank?'>blank?</span>
  <span class='kw'>return</span> <span class='id identifier rubyid_study_reference_genome'>study_reference_genome</span> <span class='kw'>unless</span> <span class='id identifier rubyid_study_reference_genome'>study_reference_genome</span><span class='period'>.</span><span class='id identifier rubyid_try'>try</span><span class='lparen'>(</span><span class='symbol'>:name</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_blank?'>blank?</span>
  <span class='kw'>nil</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="sample_supplier_name_empty?-instance_method">
  
    #<strong>sample_supplier_name_empty?</strong>(supplier_sample_name)  &#x21d2; <tt>Boolean</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


236
237
238</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/models/sample.rb', line 236</span>

<span class='kw'>def</span> <span class='id identifier rubyid_sample_supplier_name_empty?'>sample_supplier_name_empty?</span><span class='lparen'>(</span><span class='id identifier rubyid_supplier_sample_name'>supplier_sample_name</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_supplier_sample_name'>supplier_sample_name</span><span class='period'>.</span><span class='id identifier rubyid_blank?'>blank?</span> <span class='op'>||</span> <span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>empty</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>blank</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>water</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>no supplier name available</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>none</span><span class='tstring_end'>&#39;</span></span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_include?'>include?</span><span class='lparen'>(</span><span class='id identifier rubyid_supplier_sample_name'>supplier_sample_name</span><span class='period'>.</span><span class='id identifier rubyid_downcase'>downcase</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="select_study-instance_method">
  
    #<strong>select_study</strong>(sample_id)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


121
122
123
124</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/models/sample.rb', line 121</span>

<span class='kw'>def</span> <span class='id identifier rubyid_select_study'>select_study</span><span class='lparen'>(</span><span class='id identifier rubyid_sample_id'>sample_id</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_sample'>sample</span> <span class='op'>=</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_find'>find</span><span class='lparen'>(</span><span class='id identifier rubyid_sample_id'>sample_id</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_sample'>sample</span><span class='period'>.</span><span class='id identifier rubyid_studies'>studies</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="shorten_sanger_sample_id-instance_method">
  
    #<strong>shorten_sanger_sample_id</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


126
127
128
129
130
131
132
133
134
135
136</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/models/sample.rb', line 126</span>

<span class='kw'>def</span> <span class='id identifier rubyid_shorten_sanger_sample_id'>shorten_sanger_sample_id</span>
  <span class='id identifier rubyid_short_sanger_id'>short_sanger_id</span> <span class='op'>=</span> <span class='kw'>case</span> <span class='id identifier rubyid_sanger_sample_id'>sanger_sample_id</span>
    <span class='kw'>when</span> <span class='id identifier rubyid_blank?'>blank?</span> <span class='kw'>then</span> <span class='id identifier rubyid_name'>name</span>
    <span class='kw'>when</span> <span class='id identifier rubyid_sanger_sample_id'>sanger_sample_id</span><span class='period'>.</span><span class='id identifier rubyid_size'>size</span> <span class='op'>&lt;</span> <span class='int'>10</span> <span class='kw'>then</span> <span class='id identifier rubyid_sanger_sample_id'>sanger_sample_id</span>
    <span class='kw'>when</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>([\d]{7})$</span><span class='regexp_end'>/</span></span> <span class='kw'>then</span> <span class='backref'>$1</span>
    <span class='kw'>else</span>
      <span class='id identifier rubyid_sanger_sample_id'>sanger_sample_id</span>
  <span class='kw'>end</span>

  <span class='id identifier rubyid_short_sanger_id'>short_sanger_id</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="subject_type-instance_method">
  
    #<strong>subject_type</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


456
457
458</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/models/sample.rb', line 456</span>

<span class='kw'>def</span> <span class='id identifier rubyid_subject_type'>subject_type</span>
  <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>sample</span><span class='tstring_end'>&#39;</span></span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="validate_ena_required_fields!-instance_method">
  
    #<strong>validate_ena_required_fields!</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


432
433
434
435
436
437
438
439
440
441
442
443
444</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/models/sample.rb', line 432</span>

<span class='kw'>def</span> <span class='id identifier rubyid_validate_ena_required_fields!'>validate_ena_required_fields!</span>
  <span class='comment'># Do not alter the order of this line, otherwise @ena_study won&#39;t be set correctly!
</span>  <span class='ivar'>@ena_study</span><span class='comma'>,</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_validating_ena_required_fields'>validating_ena_required_fields</span> <span class='op'>=</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_studies'>studies</span><span class='period'>.</span><span class='id identifier rubyid_first'>first</span><span class='comma'>,</span> <span class='kw'>true</span>
  <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_valid?'>valid?</span> <span class='kw'>or</span> <span class='id identifier rubyid_raise'>raise</span> <span class='const'>ActiveRecord</span><span class='op'>::</span><span class='const'>RecordInvalid</span><span class='comma'>,</span> <span class='kw'>self</span>
<span class='kw'>rescue</span> <span class='const'>ActiveRecord</span><span class='op'>::</span><span class='const'>RecordInvalid</span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_exception'>exception</span>
  <span class='ivar'>@ena_study</span><span class='period'>.</span><span class='id identifier rubyid_errors'>errors</span><span class='period'>.</span><span class='id identifier rubyid_full_messages'>full_messages</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_message'>message</span><span class='op'>|</span>
    <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_errors'>errors</span><span class='period'>.</span><span class='id identifier rubyid_add'>add</span><span class='lparen'>(</span><span class='symbol'>:base</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_message'>message</span><span class='embexpr_end'>}</span><span class='tstring_content'> on study</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
  <span class='kw'>end</span> <span class='kw'>unless</span> <span class='ivar'>@ena_study</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span>
  <span class='id identifier rubyid_raise'>raise</span> <span class='id identifier rubyid_exception'>exception</span>
<span class='kw'>ensure</span>
  <span class='comment'># Do not alter the order of this line, otherwise the @ena_study won&#39;t be reset!
</span>  <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_validating_ena_required_fields'>validating_ena_required_fields</span><span class='comma'>,</span> <span class='ivar'>@ena_study</span> <span class='op'>=</span> <span class='kw'>false</span><span class='comma'>,</span> <span class='kw'>nil</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="validating_ena_required_fields_with_first_study=-instance_method">
  
    #<strong>validating_ena_required_fields_with_first_study=</strong>(state)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


426
427
428
429</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/models/sample.rb', line 426</span>

<span class='kw'>def</span> <span class='id identifier rubyid_validating_ena_required_fields_with_first_study='>validating_ena_required_fields_with_first_study=</span><span class='lparen'>(</span><span class='id identifier rubyid_state'>state</span><span class='rparen'>)</span>
  <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_validating_ena_required_fields_without_first_study'>validating_ena_required_fields_without_first_study</span> <span class='op'>=</span> <span class='id identifier rubyid_state'>state</span>
  <span class='ivar'>@ena_study</span><span class='period'>.</span><span class='id identifier rubyid_try'>try</span><span class='lparen'>(</span><span class='symbol'>:validating_ena_required_fields=</span><span class='comma'>,</span> <span class='id identifier rubyid_state'>state</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="withdraw_consent-instance_method">
  
    #<strong>withdraw_consent</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


452
453
454</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/models/sample.rb', line 452</span>

<span class='kw'>def</span> <span class='id identifier rubyid_withdraw_consent'>withdraw_consent</span>
  <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_update_attribute'>update_attribute</span><span class='lparen'>(</span><span class='symbol'>:consent_withdrawn</span><span class='comma'>,</span> <span class='kw'>true</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
  </div>

</div>

      <div id="footer">
  Generated on Mon Dec 19 11:16:44 2016 by
  <a href="http://yardoc.org" title="Yay! A Ruby Documentation Tool" target="_parent">yard</a>
  0.9.5 (ruby-2.3.3).
</div>

    </div>
  </body>
</html>