<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>
  Class: Study
  
    &mdash; Documentation by YARD 0.9.5
  
</title>

  <link rel="stylesheet" href="css/style.css" type="text/css" charset="utf-8" />

  <link rel="stylesheet" href="css/common.css" type="text/css" charset="utf-8" />

<script type="text/javascript" charset="utf-8">
  pathId = "Study";
  relpath = '';
</script>


  <script type="text/javascript" charset="utf-8" src="js/jquery.js"></script>

  <script type="text/javascript" charset="utf-8" src="js/app.js"></script>


  </head>
  <body>
    <div class="nav_wrap">
      <iframe id="nav" src="class_list.html"></iframe>
      <div id="resizer"></div>
    </div>

    <div id="main" tabindex="-1">
      <div id="header">
        <div id="menu">
  
    <a href="_index.html">Index (S)</a> &raquo;
    
    
    <span class="title">Study</span>
  
</div>

        <div id="search">
  
    <a class="full_list_link" id="class_list_link"
        href="class_list.html">

        <svg width="24" height="24">
          <rect x="0" y="4" width="24" height="4" rx="1" ry="1"></rect>
          <rect x="0" y="12" width="24" height="4" rx="1" ry="1"></rect>
          <rect x="0" y="20" width="24" height="4" rx="1" ry="1"></rect>
        </svg>
    </a>
  
</div>
        <div class="clear"></div>
      </div>

      <iframe id="search_frame" src="class_list.html"></iframe>

      <div id="content"><h1>Class: Study
  
  
  
</h1>
<div class="box_info">
  
  <dl>
    <dt>Inherits:</dt>
    <dd>
      <span class="inheritName"><span class='object_link'><a href="ActiveRecord/Base.html" title="ActiveRecord::Base (class)">ActiveRecord::Base</a></span></span>
      
        <ul class="fullTree">
          <li>Object</li>
          
            <li class="next"><span class='object_link'><a href="ActiveRecord/Base.html" title="ActiveRecord::Base (class)">ActiveRecord::Base</a></span></li>
          
            <li class="next">Study</li>
          
        </ul>
        <a href="#" class="inheritanceTree">show all</a>
      
    </dd>
  </dl>
  

  
  
  <dl>
      <dt>Extended by:</dt>
      <dd><span class='object_link'><a href="EventfulRecord.html" title="EventfulRecord (module)">EventfulRecord</a></span>, <span class='object_link'><a href="Metadata.html" title="Metadata (module)">Metadata</a></span></dd>
  </dl>
  
  
  
  <dl>
      <dt>Includes:</dt>
      <dd>AASM, <span class='object_link'><a href="Api/StudyIO/Extensions.html" title="Api::StudyIO::Extensions (module)">Api::StudyIO::Extensions</a></span>, <span class='object_link'><a href="Commentable.html" title="Commentable (module)">Commentable</a></span>, <span class='object_link'><a href="DataRelease.html" title="DataRelease (module)">DataRelease</a></span>, <span class='object_link'><a href="EventfulRecord.html" title="EventfulRecord (module)">EventfulRecord</a></span>, <span class='object_link'><a href="Identifiable.html" title="Identifiable (module)">Identifiable</a></span>, ModelExtensions::Study, <span class='object_link'><a href="ReferenceGenome/Associations.html" title="ReferenceGenome::Associations (module)">ReferenceGenome::Associations</a></span>, <span class='object_link'><a href="Request/Statistics/DeprecatedMethods.html" title="Request::Statistics::DeprecatedMethods (module)">Request::Statistics::DeprecatedMethods</a></span>, <span class='object_link'><a href="Role/Authorized.html" title="Role::Authorized (module)">Role::Authorized</a></span>, <span class='object_link'><a href="SampleManifest/Associations.html" title="SampleManifest::Associations (module)">SampleManifest::Associations</a></span>, SharedBehaviour::Named, <span class='object_link'><a href="StudyRelation/Associations.html" title="StudyRelation::Associations (module)">StudyRelation::Associations</a></span>, <span class='object_link'><a href="StudyReport/StudyDetails.html" title="StudyReport::StudyDetails (module)">StudyReport::StudyDetails</a></span>, <span class='object_link'><a href="Uuid/Uuidable.html" title="Uuid::Uuidable (module)">Uuid::Uuidable</a></span></dd>
  </dl>
  
  

  

  
  <dl>
    <dt>Defined in:</dt>
    <dd>app/models/study.rb</dd>
  </dl>
  
</div>

<h2>Defined Under Namespace</h2>
<p class="children">
  
    
  
    
      <strong class="classes">Classes:</strong> <span class='object_link'><a href="Study/Metadata.html" title="Study::Metadata (class)">Metadata</a></span>
    
  
</p>

  <h2>Constant Summary</h2>
  <dl class="constants">
    
      <dt id="STOCK_PLATE_PURPOSES-constant" class="">STOCK_PLATE_PURPOSES =
        
      </dt>
      <dd><pre class="code"><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Stock Plate</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Stock RNA Plate</span><span class='tstring_end'>&#39;</span></span><span class='rbracket'>]</span></pre></dd>
    
      <dt id="YES-constant" class="">YES =
        
      </dt>
      <dd><pre class="code"><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Yes</span><span class='tstring_end'>&#39;</span></span></pre></dd>
    
      <dt id="NO-constant" class="">NO =
        
      </dt>
      <dd><pre class="code"><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>No</span><span class='tstring_end'>&#39;</span></span></pre></dd>
    
      <dt id="YES_OR_NO-constant" class="">YES_OR_NO =
        
      </dt>
      <dd><pre class="code"><span class='lbracket'>[</span><span class='const'>YES</span><span class='comma'>,</span> <span class='const'>NO</span><span class='rbracket'>]</span></pre></dd>
    
      <dt id="Other_type-constant" class="">Other_type =
        
      </dt>
      <dd><pre class="code"><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Other</span><span class='tstring_end'>&quot;</span></span></pre></dd>
    
      <dt id="STUDY_SRA_HOLDS-constant" class="">STUDY_SRA_HOLDS =
        
      </dt>
      <dd><pre class="code"><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Hold</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Public</span><span class='tstring_end'>&#39;</span></span><span class='rbracket'>]</span></pre></dd>
    
      <dt id="DATA_RELEASE_STRATEGY_OPEN-constant" class="">DATA_RELEASE_STRATEGY_OPEN =
        
      </dt>
      <dd><pre class="code"><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>open</span><span class='tstring_end'>&#39;</span></span></pre></dd>
    
      <dt id="DATA_RELEASE_STRATEGY_MANAGED-constant" class="">DATA_RELEASE_STRATEGY_MANAGED =
        
      </dt>
      <dd><pre class="code"><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>managed</span><span class='tstring_end'>&#39;</span></span></pre></dd>
    
      <dt id="DATA_RELEASE_STRATEGY_NOT_APPLICABLE-constant" class="">DATA_RELEASE_STRATEGY_NOT_APPLICABLE =
        
      </dt>
      <dd><pre class="code"><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>not applicable</span><span class='tstring_end'>&#39;</span></span></pre></dd>
    
      <dt id="DATA_RELEASE_STRATEGIES-constant" class="">DATA_RELEASE_STRATEGIES =
        
      </dt>
      <dd><pre class="code"><span class='lbracket'>[</span><span class='const'>DATA_RELEASE_STRATEGY_OPEN</span><span class='comma'>,</span> <span class='const'>DATA_RELEASE_STRATEGY_MANAGED</span><span class='comma'>,</span> <span class='const'>DATA_RELEASE_STRATEGY_NOT_APPLICABLE</span><span class='rbracket'>]</span></pre></dd>
    
      <dt id="DATA_RELEASE_TIMING_STANDARD-constant" class="">DATA_RELEASE_TIMING_STANDARD =
        
      </dt>
      <dd><pre class="code"><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>standard</span><span class='tstring_end'>&#39;</span></span></pre></dd>
    
      <dt id="DATA_RELEASE_TIMING_NEVER-constant" class="">DATA_RELEASE_TIMING_NEVER =
        
      </dt>
      <dd><pre class="code"><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>never</span><span class='tstring_end'>&#39;</span></span></pre></dd>
    
      <dt id="DATA_RELEASE_TIMING_DELAYED-constant" class="">DATA_RELEASE_TIMING_DELAYED =
        
      </dt>
      <dd><pre class="code"><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>delayed</span><span class='tstring_end'>&#39;</span></span></pre></dd>
    
      <dt id="DATA_RELEASE_TIMINGS-constant" class="">DATA_RELEASE_TIMINGS =
        
      </dt>
      <dd><pre class="code"><span class='lbracket'>[</span>
  <span class='const'>DATA_RELEASE_TIMING_STANDARD</span><span class='comma'>,</span>
  <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>immediate</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span>
  <span class='const'>DATA_RELEASE_TIMING_DELAYED</span>
<span class='rbracket'>]</span></pre></dd>
    
      <dt id="DATA_RELEASE_PREVENTION_REASONS-constant" class="">DATA_RELEASE_PREVENTION_REASONS =
        
      </dt>
      <dd><pre class="code"><span class='lbracket'>[</span>
  <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>data validity</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span>
  <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>legal</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span>
  <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>replication of data subset</span><span class='tstring_end'>&#39;</span></span>
<span class='rbracket'>]</span></pre></dd>
    
      <dt id="DATA_RELEASE_DELAY_FOR_OTHER-constant" class="">DATA_RELEASE_DELAY_FOR_OTHER =
        
      </dt>
      <dd><pre class="code"><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>other</span><span class='tstring_end'>&#39;</span></span></pre></dd>
    
      <dt id="DATA_RELEASE_DELAY_REASONS_STANDARD-constant" class="">DATA_RELEASE_DELAY_REASONS_STANDARD =
        
      </dt>
      <dd><pre class="code"><span class='lbracket'>[</span>
  <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>phd study</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span>
  <span class='const'>DATA_RELEASE_DELAY_FOR_OTHER</span>
<span class='rbracket'>]</span></pre></dd>
    
      <dt id="DATA_RELEASE_DELAY_REASONS_ASSAY-constant" class="">DATA_RELEASE_DELAY_REASONS_ASSAY =
        
      </dt>
      <dd><pre class="code"><span class='lbracket'>[</span>
  <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>phd study</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span>
  <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>assay of no other use</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span>
  <span class='const'>DATA_RELEASE_DELAY_FOR_OTHER</span>
<span class='rbracket'>]</span></pre></dd>
    
      <dt id="DATA_RELEASE_DELAY_LONG-constant" class="">DATA_RELEASE_DELAY_LONG =
        
      </dt>
      <dd><pre class="code"><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>6 months</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>9 months</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>12 months</span><span class='tstring_end'>&#39;</span></span><span class='rbracket'>]</span></pre></dd>
    
      <dt id="DATA_RELEASE_DELAY_SHORT-constant" class="">DATA_RELEASE_DELAY_SHORT =
        
      </dt>
      <dd><pre class="code"><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>3 months</span><span class='tstring_end'>&#39;</span></span><span class='rbracket'>]</span></pre></dd>
    
      <dt id="DATA_RELEASE_DELAY_PERIODS-constant" class="">DATA_RELEASE_DELAY_PERIODS =
        
      </dt>
      <dd><pre class="code"><span class='const'>DATA_RELEASE_DELAY_SHORT</span> <span class='op'>+</span> <span class='const'>DATA_RELEASE_DELAY_LONG</span></pre></dd>
    
  </dl>



  
  
  <h3 class="inherited">Constants included
     from <span class='object_link'><a href="Metadata.html" title="Metadata (module)">Metadata</a></span></h3>
  <p class="inherited"><span class='object_link'><a href="Metadata.html#SECTION_FIELDS-constant" title="Metadata::SECTION_FIELDS (constant)">Metadata::SECTION_FIELDS</a></span></p>

  
  
  <h3 class="inherited">Constants included
     from <span class='object_link'><a href="StudyReport/StudyDetails.html" title="StudyReport::StudyDetails (module)">StudyReport::StudyDetails</a></span></h3>
  <p class="inherited"><span class='object_link'><a href="StudyReport/StudyDetails.html#BATCH_SIZE-constant" title="StudyReport::StudyDetails::BATCH_SIZE (constant)">StudyReport::StudyDetails::BATCH_SIZE</a></span></p>


  <h2>Instance Attribute Summary <small><a href="#" class="summary_toggle">collapse</a></small></h2>
  <ul class="summary">
    
      <li class="public ">
  <span class="summary_signature">
    
      <a href="#approval-instance_method" title="#approval (instance method)">#<strong>approval</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
    
    
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Returns the value of attribute approval.</p>
</div></span>
  
</li>

    
      <li class="public ">
  <span class="summary_signature">
    
      <a href="#run_count-instance_method" title="#run_count (instance method)">#<strong>run_count</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
    
    
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Returns the value of attribute run_count.</p>
</div></span>
  
</li>

    
      <li class="public ">
  <span class="summary_signature">
    
      <a href="#total_price-instance_method" title="#total_price (instance method)">#<strong>total_price</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
    
    
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Returns the value of attribute total_price.</p>
</div></span>
  
</li>

    
  </ul>




  
    <h2>
      Instance Method Summary
      <small><a href="#" class="summary_toggle">collapse</a></small>
    </h2>

    <ul class="summary">
      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#abbreviation-instance_method" title="#abbreviation (instance method)">#<strong>abbreviation</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#accession_number%3F-instance_method" title="#accession_number? (instance method)">#<strong>accession_number?</strong>  &#x21d2; Boolean </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#accession_service-instance_method" title="#accession_service (instance method)">#<strong>accession_service</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#approved%3F-instance_method" title="#approved? (instance method)">#<strong>approved?</strong>  &#x21d2; Boolean </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#asset_progress-instance_method" title="#asset_progress (instance method)">#<strong>asset_progress</strong>(assets = nil) {|self.initial_requests.asset_statistics(wheres)| ... } &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Yields information on the state of all assets in a convenient fashion for
displaying in a table.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#completed-instance_method" title="#completed (instance method)">#<strong>completed</strong>(workflow = nil)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#dac_accession_number-instance_method" title="#dac_accession_number (instance method)">#<strong>dac_accession_number</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#dac_refname-instance_method" title="#dac_refname (instance method)">#<strong>dac_refname</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#data_release_strategy-instance_method" title="#data_release_strategy (instance method)">#<strong>data_release_strategy</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#dehumanise_abbreviated_name-instance_method" title="#dehumanise_abbreviated_name (instance method)">#<strong>dehumanise_abbreviated_name</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#each_well_for_qc_report_in_batches-instance_method" title="#each_well_for_qc_report_in_batches (instance method)">#<strong>each_well_for_qc_report_in_batches</strong>(exclude_existing, product_criteria)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#ebi_accession_number-instance_method" title="#ebi_accession_number (instance method)">#<strong>ebi_accession_number</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#ethical_approval_required%3F-instance_method" title="#ethical_approval_required? (instance method)">#<strong>ethical_approval_required?</strong>  &#x21d2; Boolean </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#locale-instance_method" title="#locale (instance method)">#<strong>locale</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#mailing_list_of_managers-instance_method" title="#mailing_list_of_managers (instance method)">#<strong>mailing_list_of_managers</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#mark_active-instance_method" title="#mark_active (instance method)">#<strong>mark_active</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#mark_deactive-instance_method" title="#mark_deactive (instance method)">#<strong>mark_deactive</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#owner-instance_method" title="#owner (instance method)">#<strong>owner</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Returns the study owner (user) if exists or nil TODO - Should be “owners”
and return all owners or empty array - done TODO - Look into this is the
person that created it really the owner? If so, then an owner should be
created when a study is created.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#policy_accession_number-instance_method" title="#policy_accession_number (instance method)">#<strong>policy_accession_number</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#request_progress-instance_method" title="#request_progress (instance method)">#<strong>request_progress</strong> {|self.initial_requests.progress_statistics| ... } &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Yields information on the state of all request types in a convenient
fashion for displaying in a table.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#sample_progress-instance_method" title="#sample_progress (instance method)">#<strong>sample_progress</strong>(samples = nil, &amp;block)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Yields information on the state of all samples in a convenient fashion for
displaying in a table.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#study-instance_method" title="#study (instance method)">#<strong>study</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Used by EventfulMailer.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#study_status-instance_method" title="#study_status (instance method)">#<strong>study_status</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#subject_type-instance_method" title="#subject_type (instance method)">#<strong>subject_type</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#submissions_for_workflow-instance_method" title="#submissions_for_workflow (instance method)">#<strong>submissions_for_workflow</strong>(workflow)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#text_comments-instance_method" title="#text_comments (instance method)">#<strong>text_comments</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#unprocessed_submissions%3F-instance_method" title="#unprocessed_submissions? (instance method)">#<strong>unprocessed_submissions?</strong>  &#x21d2; Boolean </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#validate_ena_required_fields%21-instance_method" title="#validate_ena_required_fields! (instance method)">#<strong>validate_ena_required_fields!</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#validate_ethically_approved-instance_method" title="#validate_ethically_approved (instance method)">#<strong>validate_ethically_approved</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#validating_ena_required_fields_with_enforce_data_release%3D-instance_method" title="#validating_ena_required_fields_with_enforce_data_release= (instance method)">#<strong>validating_ena_required_fields_with_enforce_data_release=</strong>(state)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>We only need to validate the field if we are enforcing data release.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#warnings-instance_method" title="#warnings (instance method)">#<strong>warnings</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
    </ul>
  


  
  
  
  
  
  
  
  
  <h3 class="inherited">Methods included from <span class='object_link'><a href="Metadata.html" title="Metadata (module)">Metadata</a></span></h3>
  <p class="inherited"><span class='object_link'><a href="Metadata.html#has_metadata-instance_method" title="Metadata#has_metadata (method)">has_metadata</a></span>, <span class='object_link'><a href="Metadata.html#required_tags-class_method" title="Metadata.required_tags (method)">required_tags</a></span></p>

  
  
  
  
  
  
  
  
  <h3 class="inherited">Methods included from <span class='object_link'><a href="EventfulRecord.html" title="EventfulRecord (module)">EventfulRecord</a></span></h3>
  <p class="inherited"><span class='object_link'><a href="EventfulRecord.html#has_many_events-instance_method" title="EventfulRecord#has_many_events (method)">has_many_events</a></span>, <span class='object_link'><a href="EventfulRecord.html#has_many_lab_events-instance_method" title="EventfulRecord#has_many_lab_events (method)">has_many_lab_events</a></span>, <span class='object_link'><a href="EventfulRecord.html#has_one_event_with_family-instance_method" title="EventfulRecord#has_one_event_with_family (method)">has_one_event_with_family</a></span></p>

  
  
  
  
  
  
  
  
  <h3 class="inherited">Methods included from <span class='object_link'><a href="StudyRelation/Associations.html" title="StudyRelation::Associations (module)">StudyRelation::Associations</a></span></h3>
  <p class="inherited"><span class='object_link'><a href="StudyRelation/Associations.html#included-class_method" title="StudyRelation::Associations.included (method)">included</a></span>, <span class='object_link'><a href="StudyRelation/Associations.html#related_studies_for-instance_method" title="StudyRelation::Associations#related_studies_for (method)">#related_studies_for</a></span>, <span class='object_link'><a href="StudyRelation/Associations.html#relation_types_for_study-instance_method" title="StudyRelation::Associations#relation_types_for_study (method)">#relation_types_for_study</a></span>, <span class='object_link'><a href="StudyRelation/Associations.html#relations_for_study-instance_method" title="StudyRelation::Associations#relations_for_study (method)">#relations_for_study</a></span>, <span class='object_link'><a href="StudyRelation/Associations.html#reversed_related_studies_for-instance_method" title="StudyRelation::Associations#reversed_related_studies_for (method)">#reversed_related_studies_for</a></span>, <span class='object_link'><a href="StudyRelation/Associations.html#reversed_relation_types_for_study-instance_method" title="StudyRelation::Associations#reversed_relation_types_for_study (method)">#reversed_relation_types_for_study</a></span>, <span class='object_link'><a href="StudyRelation/Associations.html#reversed_relations_for_study-instance_method" title="StudyRelation::Associations#reversed_relations_for_study (method)">#reversed_relations_for_study</a></span></p>

  
  
  
  
  
  
  
  
  <h3 class="inherited">Methods included from <span class='object_link'><a href="Role/Authorized.html" title="Role::Authorized (module)">Role::Authorized</a></span></h3>
  <p class="inherited"><span class='object_link'><a href="Role/Authorized.html#included-class_method" title="Role::Authorized.included (method)">included</a></span></p>

  
  
  
  
  
  
  
  
  <h3 class="inherited">Methods included from <span class='object_link'><a href="Request/Statistics/DeprecatedMethods.html" title="Request::Statistics::DeprecatedMethods (module)">Request::Statistics::DeprecatedMethods</a></span></h3>
  <p class="inherited"><span class='object_link'><a href="Request/Statistics/DeprecatedMethods.html#cancelled_requests-instance_method" title="Request::Statistics::DeprecatedMethods#cancelled_requests (method)">#cancelled_requests</a></span>, <span class='object_link'><a href="Request/Statistics/DeprecatedMethods.html#completed_requests-instance_method" title="Request::Statistics::DeprecatedMethods#completed_requests (method)">#completed_requests</a></span>, <span class='object_link'><a href="Request/Statistics/DeprecatedMethods.html#failed_requests-instance_method" title="Request::Statistics::DeprecatedMethods#failed_requests (method)">#failed_requests</a></span>, <span class='object_link'><a href="Request/Statistics/DeprecatedMethods.html#passed_requests-instance_method" title="Request::Statistics::DeprecatedMethods#passed_requests (method)">#passed_requests</a></span>, <span class='object_link'><a href="Request/Statistics/DeprecatedMethods.html#pending_requests-instance_method" title="Request::Statistics::DeprecatedMethods#pending_requests (method)">#pending_requests</a></span>, <span class='object_link'><a href="Request/Statistics/DeprecatedMethods.html#started_requests-instance_method" title="Request::Statistics::DeprecatedMethods#started_requests (method)">#started_requests</a></span>, <span class='object_link'><a href="Request/Statistics/DeprecatedMethods.html#total_requests-instance_method" title="Request::Statistics::DeprecatedMethods#total_requests (method)">#total_requests</a></span>, <span class='object_link'><a href="Request/Statistics/DeprecatedMethods.html#total_requests_report-instance_method" title="Request::Statistics::DeprecatedMethods#total_requests_report (method)">#total_requests_report</a></span></p>

  
  
  
  
  
  
  
  
  <h3 class="inherited">Methods included from <span class='object_link'><a href="SampleManifest/Associations.html" title="SampleManifest::Associations (module)">SampleManifest::Associations</a></span></h3>
  <p class="inherited"><span class='object_link'><a href="SampleManifest/Associations.html#included-class_method" title="SampleManifest::Associations.included (method)">included</a></span></p>

  
  
  
  
  
  
  
  
  <h3 class="inherited">Methods included from <span class='object_link'><a href="ReferenceGenome/Associations.html" title="ReferenceGenome::Associations (module)">ReferenceGenome::Associations</a></span></h3>
  <p class="inherited"><span class='object_link'><a href="ReferenceGenome/Associations.html#included-class_method" title="ReferenceGenome::Associations.included (method)">included</a></span></p>

  
  
  
  
  
  
  
  
  
  <h3 class="inherited">Methods included from <span class='object_link'><a href="Identifiable.html" title="Identifiable (module)">Identifiable</a></span></h3>
  <p class="inherited"><span class='object_link'><a href="Identifiable.html#external_id-instance_method" title="Identifiable#external_id (method)">#external_id</a></span>, <span class='object_link'><a href="Identifiable.html#external_object-instance_method" title="Identifiable#external_object (method)">#external_object</a></span>, <span class='object_link'><a href="Identifiable.html#identifier-instance_method" title="Identifiable#identifier (method)">#identifier</a></span>, <span class='object_link'><a href="Identifiable.html#included-class_method" title="Identifiable.included (method)">included</a></span>, <span class='object_link'><a href="Identifiable.html#set_external-instance_method" title="Identifiable#set_external (method)">#set_external</a></span></p>

  
  
  
  
  
  
  
  
  <h3 class="inherited">Methods included from <span class='object_link'><a href="Commentable.html" title="Commentable (module)">Commentable</a></span></h3>
  <p class="inherited"><span class='object_link'><a href="Commentable.html#included-class_method" title="Commentable.included (method)">included</a></span></p>

  
  
  
  
  
  
  
  
  <h3 class="inherited">Methods included from <span class='object_link'><a href="DataRelease.html" title="DataRelease (module)">DataRelease</a></span></h3>
  <p class="inherited"><span class='object_link'><a href="DataRelease.html#all_samples_have_accession_numbers%3F-instance_method" title="DataRelease#all_samples_have_accession_numbers? (method)">#all_samples_have_accession_numbers?</a></span>, <span class='object_link'><a href="DataRelease.html#ena_accession_required%3F-instance_method" title="DataRelease#ena_accession_required? (method)">#ena_accession_required?</a></span>, <span class='object_link'><a href="DataRelease.html#for_array_express%3F-instance_method" title="DataRelease#for_array_express? (method)">#for_array_express?</a></span>, <span class='object_link'><a href="DataRelease.html#valid_data_release_properties%3F-instance_method" title="DataRelease#valid_data_release_properties? (method)">#valid_data_release_properties?</a></span></p>

  
  
  
  
  
  
  
  
  
  <h3 class="inherited">Methods included from <span class='object_link'><a href="Uuid/Uuidable.html" title="Uuid::Uuidable (module)">Uuid::Uuidable</a></span></h3>
  <p class="inherited"><span class='object_link'><a href="Uuid/Uuidable.html#included-class_method" title="Uuid::Uuidable.included (method)">included</a></span>, <span class='object_link'><a href="Uuid/Uuidable.html#unsaved_uuid%21-instance_method" title="Uuid::Uuidable#unsaved_uuid! (method)">#unsaved_uuid!</a></span>, <span class='object_link'><a href="Uuid/Uuidable.html#uuid-instance_method" title="Uuid::Uuidable#uuid (method)">#uuid</a></span></p>

  
  
  
  
  
  
  
  
  <h3 class="inherited">Methods included from <span class='object_link'><a href="Api/StudyIO/Extensions.html" title="Api::StudyIO::Extensions (module)">Api::StudyIO::Extensions</a></span></h3>
  <p class="inherited"><span class='object_link'><a href="Api/StudyIO/Extensions.html#included-class_method" title="Api::StudyIO::Extensions.included (method)">included</a></span>, <span class='object_link'><a href="Api/StudyIO/Extensions.html#render_class-instance_method" title="Api::StudyIO::Extensions#render_class (method)">#render_class</a></span></p>

  
  
  
  
  
  
  
  
  
  <h3 class="inherited">Methods included from <span class='object_link'><a href="StudyReport/StudyDetails.html" title="StudyReport::StudyDetails (module)">StudyReport::StudyDetails</a></span></h3>
  <p class="inherited"><span class='object_link'><a href="StudyReport/StudyDetails.html#each_stock_well_id_in_study_in_batches-instance_method" title="StudyReport::StudyDetails#each_stock_well_id_in_study_in_batches (method)">#each_stock_well_id_in_study_in_batches</a></span>, <span class='object_link'><a href="StudyReport/StudyDetails.html#progress_report_header-instance_method" title="StudyReport::StudyDetails#progress_report_header (method)">#progress_report_header</a></span>, <span class='object_link'><a href="StudyReport/StudyDetails.html#progress_report_on_all_assets-instance_method" title="StudyReport::StudyDetails#progress_report_on_all_assets (method)">#progress_report_on_all_assets</a></span></p>

  
  
  
  
  
  
  
  
  <h3 class="inherited">Methods inherited from <span class='object_link'><a href="ActiveRecord/Base.html" title="ActiveRecord::Base (class)">ActiveRecord::Base</a></span></h3>
  <p class="inherited"><span class='object_link'><a href="ActiveRecord/Base.html#find_by_id_or_name-class_method" title="ActiveRecord::Base.find_by_id_or_name (method)">find_by_id_or_name</a></span>, <span class='object_link'><a href="ActiveRecord/Base.html#find_by_id_or_name%21-class_method" title="ActiveRecord::Base.find_by_id_or_name! (method)">find_by_id_or_name!</a></span>, <span class='object_link'><a href="ActiveRecord/Base.html#routing_key-instance_method" title="ActiveRecord::Base#routing_key (method)">#routing_key</a></span>, <span class='object_link'><a href="ActiveRecord/Base.html#transaction_with_amqp-class_method" title="ActiveRecord::Base.transaction_with_amqp (method)">transaction_with_amqp</a></span></p>

  
  
  
  
  
  
  
  
  <h3 class="inherited">Methods included from <span class='object_link'><a href="ApiTools.html" title="ApiTools (module)">ApiTools</a></span></h3>
  <p class="inherited"><span class='object_link'><a href="ApiTools.html#as_json-instance_method" title="ApiTools#as_json (method)">#as_json</a></span>, <span class='object_link'><a href="ApiTools.html#for_api-instance_method" title="ApiTools#for_api (method)">#for_api</a></span>, <span class='object_link'><a href="ApiTools.html#included-class_method" title="ApiTools.included (method)">included</a></span>, <span class='object_link'><a href="ApiTools.html#list_json-instance_method" title="ApiTools#list_json (method)">#list_json</a></span>, <span class='object_link'><a href="ApiTools.html#to_xml-instance_method" title="ApiTools#to_xml (method)">#to_xml</a></span>, <span class='object_link'><a href="ApiTools.html#to_yaml-instance_method" title="ApiTools#to_yaml (method)">#to_yaml</a></span>, <span class='object_link'><a href="ApiTools.html#url-instance_method" title="ApiTools#url (method)">#url</a></span>, <span class='object_link'><a href="ApiTools.html#url_name-instance_method" title="ApiTools#url_name (method)">#url_name</a></span></p>

  <div id="instance_attr_details" class="attr_details">
    <h2>Instance Attribute Details</h2>
    
      
      <span id="approval=-instance_method"></span>
      <div class="method_details first">
  <h3 class="signature first" id="approval-instance_method">
  
    #<strong>approval</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns the value of attribute approval</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


52
53
54</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/models/study.rb', line 52</span>

<span class='kw'>def</span> <span class='id identifier rubyid_approval'>approval</span>
  <span class='ivar'>@approval</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      
      <span id="run_count=-instance_method"></span>
      <div class="method_details ">
  <h3 class="signature " id="run_count-instance_method">
  
    #<strong>run_count</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns the value of attribute run_count</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


53
54
55</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/models/study.rb', line 53</span>

<span class='kw'>def</span> <span class='id identifier rubyid_run_count'>run_count</span>
  <span class='ivar'>@run_count</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      
      <span id="total_price=-instance_method"></span>
      <div class="method_details ">
  <h3 class="signature " id="total_price-instance_method">
  
    #<strong>total_price</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns the value of attribute total_price</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


54
55
56</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/models/study.rb', line 54</span>

<span class='kw'>def</span> <span class='id identifier rubyid_total_price'>total_price</span>
  <span class='ivar'>@total_price</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
  </div>


  <div id="instance_method_details" class="method_details_list">
    <h2>Instance Method Details</h2>

    
      <div class="method_details first">
  <h3 class="signature first" id="abbreviation-instance_method">
  
    #<strong>abbreviation</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


536
537
538
539</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/models/study.rb', line 536</span>

<span class='kw'>def</span> <span class='id identifier rubyid_abbreviation'>abbreviation</span>
  <span class='id identifier rubyid_abbreviation'>abbreviation</span> <span class='op'>=</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_study_metadata'>study_metadata</span><span class='period'>.</span><span class='id identifier rubyid_study_name_abbreviation'>study_name_abbreviation</span>
  <span class='id identifier rubyid_abbreviation'>abbreviation</span><span class='period'>.</span><span class='id identifier rubyid_blank?'>blank?</span> <span class='op'>?</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_id'>id</span><span class='embexpr_end'>}</span><span class='tstring_content'>STDY</span><span class='tstring_end'>&quot;</span></span> <span class='op'>:</span> <span class='id identifier rubyid_abbreviation'>abbreviation</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="accession_number?-instance_method">
  
    #<strong>accession_number?</strong>  &#x21d2; <tt>Boolean</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


528
529
530</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/models/study.rb', line 528</span>

<span class='kw'>def</span> <span class='id identifier rubyid_accession_number?'>accession_number?</span>
  <span class='kw'>not</span> <span class='id identifier rubyid_ebi_accession_number'>ebi_accession_number</span><span class='period'>.</span><span class='id identifier rubyid_blank?'>blank?</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="accession_service-instance_method">
  
    #<strong>accession_service</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


556
557
558
559
560
561
562</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/models/study.rb', line 556</span>

<span class='kw'>def</span> <span class='id identifier rubyid_accession_service'>accession_service</span>
  <span class='kw'>case</span> <span class='id identifier rubyid_data_release_strategy'>data_release_strategy</span>
  <span class='kw'>when</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>open</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>then</span> <span class='const'>EraAccessionService</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span>
  <span class='kw'>when</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>managed</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>then</span> <span class='const'>EgaAccessionService</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span>
  <span class='kw'>else</span> <span class='const'>NoAccessionService</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='kw'>self</span><span class='rparen'>)</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="approved?-instance_method">
  
    #<strong>approved?</strong>  &#x21d2; <tt>Boolean</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


545
546
547
548</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/models/study.rb', line 545</span>

<span class='kw'>def</span> <span class='id identifier rubyid_approved?'>approved?</span>
  <span class='comment'># TODO remove
</span>  <span class='kw'>true</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="asset_progress-instance_method">
  
    #<strong>asset_progress</strong>(assets = nil) {|self.initial_requests.asset_statistics(wheres)| ... } &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Yields information on the state of all assets in a convenient fashion for
displaying in a table.</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Yields:</p>
<ul class="yield">
  
    <li>
      
      
        <span class='type'>(<tt>self.initial_requests.asset_statistics(wheres)</tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


440
441
442
443
444</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/models/study.rb', line 440</span>

<span class='kw'>def</span> <span class='id identifier rubyid_asset_progress'>asset_progress</span><span class='lparen'>(</span><span class='id identifier rubyid_assets'>assets</span> <span class='op'>=</span> <span class='kw'>nil</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_wheres'>wheres</span> <span class='op'>=</span> <span class='lbrace'>{</span><span class='rbrace'>}</span>
  <span class='id identifier rubyid_wheres'>wheres</span> <span class='op'>=</span> <span class='lbrace'>{</span> <span class='label'>asset_id:</span> <span class='id identifier rubyid_assets'>assets</span><span class='period'>.</span><span class='id identifier rubyid_map'>map</span><span class='lparen'>(</span><span class='op'>&amp;</span><span class='symbol'>:id</span><span class='rparen'>)</span> <span class='rbrace'>}</span> <span class='kw'>unless</span> <span class='id identifier rubyid_assets'>assets</span><span class='period'>.</span><span class='id identifier rubyid_blank?'>blank?</span>
  <span class='kw'>yield</span><span class='lparen'>(</span><span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_initial_requests'>initial_requests</span><span class='period'>.</span><span class='id identifier rubyid_asset_statistics'>asset_statistics</span><span class='lparen'>(</span><span class='id identifier rubyid_wheres'>wheres</span><span class='rparen'>)</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="completed-instance_method">
  
    #<strong>completed</strong>(workflow = nil)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


417
418
419
420
421
422
423
424
425
426
427
428</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/models/study.rb', line 417</span>

<span class='kw'>def</span> <span class='id identifier rubyid_completed'>completed</span><span class='lparen'>(</span><span class='id identifier rubyid_workflow'>workflow</span> <span class='op'>=</span> <span class='kw'>nil</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_rts'>rts</span> <span class='op'>=</span> <span class='id identifier rubyid_workflow'>workflow</span><span class='period'>.</span><span class='id identifier rubyid_present?'>present?</span> <span class='op'>?</span> <span class='id identifier rubyid_workflow'>workflow</span><span class='period'>.</span><span class='id identifier rubyid_request_types'>request_types</span><span class='period'>.</span><span class='id identifier rubyid_map'>map</span><span class='lparen'>(</span><span class='op'>&amp;</span><span class='symbol'>:id</span><span class='rparen'>)</span> <span class='op'>:</span> <span class='const'>RequestType</span><span class='period'>.</span><span class='id identifier rubyid_all'>all</span><span class='period'>.</span><span class='id identifier rubyid_map'>map</span><span class='lparen'>(</span><span class='op'>&amp;</span><span class='symbol'>:id</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_total'>total</span> <span class='op'>=</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_requests'>requests</span><span class='period'>.</span><span class='id identifier rubyid_request_type'>request_type</span><span class='lparen'>(</span><span class='id identifier rubyid_rts'>rts</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_count'>count</span>
  <span class='id identifier rubyid_failed'>failed</span> <span class='op'>=</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_requests'>requests</span><span class='period'>.</span><span class='id identifier rubyid_failed'>failed</span><span class='period'>.</span><span class='id identifier rubyid_request_type'>request_type</span><span class='lparen'>(</span><span class='id identifier rubyid_rts'>rts</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_count'>count</span>
  <span class='id identifier rubyid_cancelled'>cancelled</span> <span class='op'>=</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_requests'>requests</span><span class='period'>.</span><span class='id identifier rubyid_cancelled'>cancelled</span><span class='period'>.</span><span class='id identifier rubyid_request_type'>request_type</span><span class='lparen'>(</span><span class='id identifier rubyid_rts'>rts</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_count'>count</span>
  <span class='kw'>if</span> <span class='lparen'>(</span><span class='id identifier rubyid_total'>total</span> <span class='op'>-</span> <span class='id identifier rubyid_failed'>failed</span> <span class='op'>-</span> <span class='id identifier rubyid_cancelled'>cancelled</span><span class='rparen'>)</span> <span class='op'>&gt;</span> <span class='int'>0</span>
    <span class='id identifier rubyid_completed_percent'>completed_percent</span> <span class='op'>=</span> <span class='lparen'>(</span><span class='lparen'>(</span><span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_requests'>requests</span><span class='period'>.</span><span class='id identifier rubyid_passed'>passed</span><span class='period'>.</span><span class='id identifier rubyid_request_type'>request_type</span><span class='lparen'>(</span><span class='id identifier rubyid_rts'>rts</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_count'>count</span><span class='period'>.</span><span class='id identifier rubyid_to_f'>to_f</span> <span class='op'>/</span> <span class='lparen'>(</span><span class='id identifier rubyid_total'>total</span> <span class='op'>-</span> <span class='id identifier rubyid_failed'>failed</span> <span class='op'>-</span> <span class='id identifier rubyid_cancelled'>cancelled</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_to_f'>to_f</span><span class='rparen'>)</span> <span class='op'>*</span> <span class='int'>100</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_completed_percent'>completed_percent</span><span class='period'>.</span><span class='id identifier rubyid_to_i'>to_i</span>
  <span class='kw'>else</span>
    <span class='kw'>return</span> <span class='int'>0</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="dac_accession_number-instance_method">
  
    #<strong>dac_accession_number</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


520
521
522</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/models/study.rb', line 520</span>

<span class='kw'>def</span> <span class='id identifier rubyid_dac_accession_number'>dac_accession_number</span>
  <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_study_metadata'>study_metadata</span><span class='period'>.</span><span class='id identifier rubyid_ega_dac_accession_number'>ega_dac_accession_number</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="dac_refname-instance_method">
  
    #<strong>dac_refname</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


459
460
461</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/models/study.rb', line 459</span>

<span class='kw'>def</span> <span class='id identifier rubyid_dac_refname'>dac_refname</span>
  <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>DAC for study - </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_name'>name</span><span class='embexpr_end'>}</span><span class='tstring_content'> - #</span><span class='embexpr_beg'>#{</span><span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_id'>id</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="data_release_strategy-instance_method">
  
    #<strong>data_release_strategy</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


532
533
534</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/models/study.rb', line 532</span>

<span class='kw'>def</span> <span class='id identifier rubyid_data_release_strategy'>data_release_strategy</span>
  <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_study_metadata'>study_metadata</span><span class='period'>.</span><span class='id identifier rubyid_data_release_strategy'>data_release_strategy</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="dehumanise_abbreviated_name-instance_method">
  
    #<strong>dehumanise_abbreviated_name</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


541
542
543</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/models/study.rb', line 541</span>

<span class='kw'>def</span> <span class='id identifier rubyid_dehumanise_abbreviated_name'>dehumanise_abbreviated_name</span>
  <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_abbreviation'>abbreviation</span><span class='period'>.</span><span class='id identifier rubyid_downcase'>downcase</span><span class='period'>.</span><span class='id identifier rubyid_gsub'>gsub</span><span class='lparen'>(</span><span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'> +</span><span class='regexp_end'>/</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>_</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="each_well_for_qc_report_in_batches-instance_method">
  
    #<strong>each_well_for_qc_report_in_batches</strong>(exclude_existing, product_criteria)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


150
151
152
153
154
155
156
157
158</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/models/study.rb', line 150</span>

<span class='kw'>def</span> <span class='id identifier rubyid_each_well_for_qc_report_in_batches'>each_well_for_qc_report_in_batches</span><span class='lparen'>(</span><span class='id identifier rubyid_exclude_existing'>exclude_existing</span><span class='comma'>,</span> <span class='id identifier rubyid_product_criteria'>product_criteria</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_base_scope'>base_scope</span> <span class='op'>=</span> <span class='const'>Well</span><span class='period'>.</span><span class='id identifier rubyid_on_plate_purpose'>on_plate_purpose</span><span class='lparen'>(</span><span class='const'>PlatePurpose</span><span class='period'>.</span><span class='id identifier rubyid_where'>where</span><span class='lparen'>(</span><span class='label'>name:</span> <span class='const'>STOCK_PLATE_PURPOSES</span><span class='rparen'>)</span><span class='rparen'>)</span><span class='period'>.</span>
    <span class='id identifier rubyid_for_study_through_aliquot'>for_study_through_aliquot</span><span class='lparen'>(</span><span class='kw'>self</span><span class='rparen'>)</span><span class='period'>.</span>
    <span class='id identifier rubyid_without_blank_samples'>without_blank_samples</span><span class='period'>.</span>
    <span class='id identifier rubyid_includes'>includes</span><span class='lparen'>(</span><span class='symbol'>:well_attribute</span><span class='comma'>,</span> <span class='label'>samples:</span> <span class='symbol'>:sample_metadata</span><span class='rparen'>)</span><span class='period'>.</span>
    <span class='id identifier rubyid_readonly'>readonly</span><span class='lparen'>(</span><span class='kw'>true</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_scope'>scope</span> <span class='op'>=</span> <span class='id identifier rubyid_exclude_existing'>exclude_existing</span> <span class='op'>?</span> <span class='id identifier rubyid_base_scope'>base_scope</span><span class='period'>.</span><span class='id identifier rubyid_without_report'>without_report</span><span class='lparen'>(</span><span class='id identifier rubyid_product_criteria'>product_criteria</span><span class='rparen'>)</span> <span class='op'>:</span> <span class='id identifier rubyid_base_scope'>base_scope</span>
  <span class='id identifier rubyid_scope'>scope</span><span class='period'>.</span><span class='id identifier rubyid_find_in_batches'>find_in_batches</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_wells'>wells</span><span class='op'>|</span> <span class='kw'>yield</span> <span class='id identifier rubyid_wells'>wells</span> <span class='rbrace'>}</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="ebi_accession_number-instance_method">
  
    #<strong>ebi_accession_number</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


516
517
518</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/models/study.rb', line 516</span>

<span class='kw'>def</span> <span class='id identifier rubyid_ebi_accession_number'>ebi_accession_number</span>
  <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_study_metadata'>study_metadata</span><span class='period'>.</span><span class='id identifier rubyid_study_ebi_accession_number'>study_ebi_accession_number</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="ethical_approval_required?-instance_method">
  
    #<strong>ethical_approval_required?</strong>  &#x21d2; <tt>Boolean</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


550
551
552
553
554</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/models/study.rb', line 550</span>

<span class='kw'>def</span> <span class='id identifier rubyid_ethical_approval_required?'>ethical_approval_required?</span>
  <span class='lparen'>(</span><span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_study_metadata'>study_metadata</span><span class='period'>.</span><span class='id identifier rubyid_contains_human_dna'>contains_human_dna</span> <span class='op'>==</span> <span class='const'>Study</span><span class='op'>::</span><span class='const'>YES</span> <span class='op'>&amp;&amp;</span>
  <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_study_metadata'>study_metadata</span><span class='period'>.</span><span class='id identifier rubyid_contaminated_human_dna'>contaminated_human_dna</span> <span class='op'>==</span> <span class='const'>Study</span><span class='op'>::</span><span class='const'>NO</span> <span class='op'>&amp;&amp;</span>
  <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_study_metadata'>study_metadata</span><span class='period'>.</span><span class='id identifier rubyid_commercially_available'>commercially_available</span> <span class='op'>==</span> <span class='const'>Study</span><span class='op'>::</span><span class='const'>NO</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="locale-instance_method">
  
    #<strong>locale</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


482
483
484</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/models/study.rb', line 482</span>

<span class='kw'>def</span> <span class='id identifier rubyid_locale'>locale</span>
  <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_funding_source'>funding_source</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="mailing_list_of_managers-instance_method">
  
    #<strong>mailing_list_of_managers</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


571
572
573
574
575</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/models/study.rb', line 571</span>

<span class='kw'>def</span> <span class='id identifier rubyid_mailing_list_of_managers'>mailing_list_of_managers</span>
  <span class='id identifier rubyid_receiver'>receiver</span> <span class='op'>=</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_managers'>managers</span><span class='period'>.</span><span class='id identifier rubyid_pluck'>pluck</span><span class='lparen'>(</span><span class='symbol'>:email</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_compact'>compact</span><span class='period'>.</span><span class='id identifier rubyid_uniq'>uniq</span>
  <span class='id identifier rubyid_receiver'>receiver</span> <span class='op'>=</span> <span class='const'>User</span><span class='period'>.</span><span class='id identifier rubyid_all_administrators_emails'>all_administrators_emails</span> <span class='kw'>if</span> <span class='id identifier rubyid_receiver'>receiver</span><span class='period'>.</span><span class='id identifier rubyid_empty?'>empty?</span>
  <span class='kw'>return</span> <span class='id identifier rubyid_receiver'>receiver</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="mark_active-instance_method">
  
    #<strong>mark_active</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


407
408
409
410
411</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/models/study.rb', line 407</span>

<span class='kw'>def</span> <span class='id identifier rubyid_mark_active'>mark_active</span>
  <span class='kw'>unless</span> <span class='id identifier rubyid_active?'>active?</span>
    <span class='id identifier rubyid_logger'>logger</span><span class='period'>.</span><span class='id identifier rubyid_warn'>warn</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Study activation failed! </span><span class='embexpr_beg'>#{</span><span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_errors'>errors</span><span class='period'>.</span><span class='id identifier rubyid_map'>map</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_e'>e</span><span class='op'>|</span> <span class='id identifier rubyid_e'>e</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span> <span class='rbrace'>}</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="mark_deactive-instance_method">
  
    #<strong>mark_deactive</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


401
402
403
404
405</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/models/study.rb', line 401</span>

<span class='kw'>def</span> <span class='id identifier rubyid_mark_deactive'>mark_deactive</span>
  <span class='kw'>unless</span> <span class='id identifier rubyid_inactive?'>inactive?</span>
    <span class='id identifier rubyid_logger'>logger</span><span class='period'>.</span><span class='id identifier rubyid_warn'>warn</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Study deactivation failed! </span><span class='embexpr_beg'>#{</span><span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_errors'>errors</span><span class='period'>.</span><span class='id identifier rubyid_map'>map</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_e'>e</span><span class='op'>|</span> <span class='id identifier rubyid_e'>e</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span> <span class='rbrace'>}</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="owner-instance_method">
  
    #<strong>owner</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns the study owner (user) if exists or nil TODO - Should be “owners”
and return all owners or empty array - done TODO - Look into this is the
person that created it really the owner? If so, then an owner should be
created when a study is created.</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


478
479
480</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/models/study.rb', line 478</span>

<span class='kw'>def</span> <span class='id identifier rubyid_owner'>owner</span>
  <span class='id identifier rubyid_owners'>owners</span><span class='period'>.</span><span class='id identifier rubyid_first'>first</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="policy_accession_number-instance_method">
  
    #<strong>policy_accession_number</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


524
525
526</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/models/study.rb', line 524</span>

<span class='kw'>def</span> <span class='id identifier rubyid_policy_accession_number'>policy_accession_number</span>
  <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_study_metadata'>study_metadata</span><span class='period'>.</span><span class='id identifier rubyid_ega_policy_accession_number'>ega_policy_accession_number</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="request_progress-instance_method">
  
    #<strong>request_progress</strong> {|self.initial_requests.progress_statistics| ... } &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Yields information on the state of all request types in a convenient
fashion for displaying in a table.</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Yields:</p>
<ul class="yield">
  
    <li>
      
      
        <span class='type'>(<tt>self.initial_requests.progress_statistics</tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


435
436
437</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/models/study.rb', line 435</span>

<span class='kw'>def</span> <span class='id identifier rubyid_request_progress'>request_progress</span><span class='lparen'>(</span><span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span><span class='rparen'>)</span>
  <span class='kw'>yield</span><span class='lparen'>(</span><span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_initial_requests'>initial_requests</span><span class='period'>.</span><span class='id identifier rubyid_progress_statistics'>progress_statistics</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="sample_progress-instance_method">
  
    #<strong>sample_progress</strong>(samples = nil, &amp;block)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Yields information on the state of all samples in a convenient fashion for
displaying in a table.</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


447
448
449
450
451
452
453</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/models/study.rb', line 447</span>

<span class='kw'>def</span> <span class='id identifier rubyid_sample_progress'>sample_progress</span><span class='lparen'>(</span><span class='id identifier rubyid_samples'>samples</span> <span class='op'>=</span> <span class='kw'>nil</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span><span class='rparen'>)</span>
  <span class='kw'>if</span> <span class='id identifier rubyid_samples'>samples</span><span class='period'>.</span><span class='id identifier rubyid_blank?'>blank?</span>
    <span class='id identifier rubyid_requests'>requests</span><span class='period'>.</span><span class='id identifier rubyid_sample_statistics_new'>sample_statistics_new</span>
  <span class='kw'>else</span>
    <span class='kw'>yield</span><span class='lparen'>(</span><span class='id identifier rubyid_requests'>requests</span><span class='period'>.</span><span class='id identifier rubyid_where'>where</span><span class='lparen'>(</span><span class='label'>aliquots:</span> <span class='lbrace'>{</span> <span class='label'>sample_id:</span> <span class='id identifier rubyid_samples'>samples</span><span class='period'>.</span><span class='id identifier rubyid_pluck'>pluck</span><span class='lparen'>(</span><span class='symbol'>:id</span><span class='rparen'>)</span> <span class='rbrace'>}</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_sample_statistics_new'>sample_statistics_new</span><span class='rparen'>)</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="study-instance_method">
  
    #<strong>study</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Used by EventfulMailer</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


469
470
471</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/models/study.rb', line 469</span>

<span class='kw'>def</span> <span class='id identifier rubyid_study'>study</span>
  <span class='kw'>self</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="study_status-instance_method">
  
    #<strong>study_status</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


455
456
457</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/models/study.rb', line 455</span>

<span class='kw'>def</span> <span class='id identifier rubyid_study_status'>study_status</span>
  <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_inactive?'>inactive?</span> <span class='op'>?</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>closed</span><span class='tstring_end'>&quot;</span></span> <span class='op'>:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>open</span><span class='tstring_end'>&quot;</span></span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="subject_type-instance_method">
  
    #<strong>subject_type</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


579
580
581</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/models/study.rb', line 579</span>

<span class='kw'>def</span> <span class='id identifier rubyid_subject_type'>subject_type</span>
  <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>study</span><span class='tstring_end'>&#39;</span></span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="submissions_for_workflow-instance_method">
  
    #<strong>submissions_for_workflow</strong>(workflow)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


430
431
432</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/models/study.rb', line 430</span>

<span class='kw'>def</span> <span class='id identifier rubyid_submissions_for_workflow'>submissions_for_workflow</span><span class='lparen'>(</span><span class='id identifier rubyid_workflow'>workflow</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_orders'>orders</span><span class='period'>.</span><span class='id identifier rubyid_for_workflow'>for_workflow</span><span class='lparen'>(</span><span class='id identifier rubyid_workflow'>workflow</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_include_for_study_view'>include_for_study_view</span><span class='period'>.</span><span class='id identifier rubyid_map'>map</span><span class='lparen'>(</span><span class='op'>&amp;</span><span class='symbol'>:submission</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_compact'>compact</span><span class='period'>.</span><span class='id identifier rubyid_uniq'>uniq</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="text_comments-instance_method">
  
    #<strong>text_comments</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


413
414
415</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/models/study.rb', line 413</span>

<span class='kw'>def</span> <span class='id identifier rubyid_text_comments'>text_comments</span>
  <span class='id identifier rubyid_comments'>comments</span><span class='period'>.</span><span class='id identifier rubyid_collect'>collect</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_c'>c</span><span class='op'>|</span> <span class='id identifier rubyid_c'>c</span><span class='period'>.</span><span class='id identifier rubyid_description'>description</span> <span class='kw'>unless</span> <span class='id identifier rubyid_c'>c</span><span class='period'>.</span><span class='id identifier rubyid_description'>description</span><span class='period'>.</span><span class='id identifier rubyid_blank?'>blank?</span> <span class='rbrace'>}</span><span class='period'>.</span><span class='id identifier rubyid_compact'>compact</span><span class='period'>.</span><span class='id identifier rubyid_join'>join</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>, </span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="unprocessed_submissions?-instance_method">
  
    #<strong>unprocessed_submissions?</strong>  &#x21d2; <tt>Boolean</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


463
464
465
466</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/models/study.rb', line 463</span>

<span class='kw'>def</span> <span class='id identifier rubyid_unprocessed_submissions?'>unprocessed_submissions?</span>
  <span class='comment'># TODO[mb14] optimize if needed
</span>  <span class='id identifier rubyid_study'>study</span><span class='period'>.</span><span class='id identifier rubyid_orders'>orders</span><span class='period'>.</span><span class='id identifier rubyid_any?'>any?</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_o'>o</span><span class='op'>|</span> <span class='id identifier rubyid_o'>o</span><span class='period'>.</span><span class='id identifier rubyid_submission'>submission</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span> <span class='op'>||</span> <span class='id identifier rubyid_o'>o</span><span class='period'>.</span><span class='id identifier rubyid_submission'>submission</span><span class='period'>.</span><span class='id identifier rubyid_unprocessed?'>unprocessed?</span> <span class='rbrace'>}</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="validate_ena_required_fields!-instance_method">
  
    #<strong>validate_ena_required_fields!</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


564
565
566
567
568
569</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/models/study.rb', line 564</span>

<span class='kw'>def</span> <span class='id identifier rubyid_validate_ena_required_fields!'>validate_ena_required_fields!</span>
  <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_validating_ena_required_fields'>validating_ena_required_fields</span> <span class='op'>=</span> <span class='kw'>true</span>
  <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_valid?'>valid?</span> <span class='kw'>or</span> <span class='id identifier rubyid_raise'>raise</span> <span class='const'>ActiveRecord</span><span class='op'>::</span><span class='const'>RecordInvalid</span><span class='comma'>,</span> <span class='kw'>self</span>
<span class='kw'>ensure</span>
  <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_validating_ena_required_fields'>validating_ena_required_fields</span> <span class='op'>=</span> <span class='kw'>false</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="validate_ethically_approved-instance_method">
  
    #<strong>validate_ethically_approved</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


108
109
110
111
112
113</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/models/study.rb', line 108</span>

<span class='kw'>def</span> <span class='id identifier rubyid_validate_ethically_approved'>validate_ethically_approved</span>
  <span class='kw'>return</span> <span class='kw'>true</span> <span class='kw'>if</span> <span class='id identifier rubyid_valid_ethically_approved?'>valid_ethically_approved?</span>
  <span class='id identifier rubyid_message'>message</span> <span class='op'>=</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_ethical_approval_required?'>ethical_approval_required?</span> <span class='op'>?</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>should be either true or false for this study.</span><span class='tstring_end'>&quot;</span></span> <span class='op'>:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>should be not applicable (null) not false.</span><span class='tstring_end'>&quot;</span></span>
  <span class='id identifier rubyid_errors'>errors</span><span class='period'>.</span><span class='id identifier rubyid_add'>add</span><span class='lparen'>(</span><span class='symbol'>:ethically_approved</span><span class='comma'>,</span> <span class='id identifier rubyid_message'>message</span><span class='rparen'>)</span>
  <span class='kw'>false</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="validating_ena_required_fields_with_enforce_data_release=-instance_method">
  
    #<strong>validating_ena_required_fields_with_enforce_data_release=</strong>(state)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>We only need to validate the field if we are enforcing data release</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


389
390
391</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/models/study.rb', line 389</span>

<span class='kw'>def</span> <span class='id identifier rubyid_validating_ena_required_fields_with_enforce_data_release='>validating_ena_required_fields_with_enforce_data_release=</span><span class='lparen'>(</span><span class='id identifier rubyid_state'>state</span><span class='rparen'>)</span>
  <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_validating_ena_required_fields_without_enforce_data_release'>validating_ena_required_fields_without_enforce_data_release</span> <span class='op'>=</span> <span class='id identifier rubyid_state'>state</span> <span class='kw'>if</span> <span class='id identifier rubyid_enforce_data_release'>enforce_data_release</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="warnings-instance_method">
  
    #<strong>warnings</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


394
395
396
397
398
399</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/models/study.rb', line 394</span>

<span class='kw'>def</span> <span class='id identifier rubyid_warnings'>warnings</span>
  <span class='comment'># These studies are now invalid, but the warning should remain until existing studies are fixed.
</span>  <span class='kw'>if</span> <span class='id identifier rubyid_study_metadata'>study_metadata</span><span class='period'>.</span><span class='id identifier rubyid_managed?'>managed?</span> <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_study_metadata'>study_metadata</span><span class='period'>.</span><span class='id identifier rubyid_data_access_group'>data_access_group</span><span class='period'>.</span><span class='id identifier rubyid_blank?'>blank?</span>
    <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>No user group specified for a managed study. Please specify a valid Unix user group to ensure study data is visible to the correct people.</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
  </div>

</div>

      <div id="footer">
  Generated on Mon Dec 19 11:16:42 2016 by
  <a href="http://yardoc.org" title="Yay! A Ruby Documentation Tool" target="_parent">yard</a>
  0.9.5 (ruby-2.3.3).
</div>

    </div>
  </body>
</html>